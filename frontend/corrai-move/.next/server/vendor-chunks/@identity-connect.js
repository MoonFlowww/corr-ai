"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@identity-connect";
exports.ids = ["vendor-chunks/@identity-connect"];
exports.modules = {

/***/ "(ssr)/./node_modules/@identity-connect/api/dist/index.mjs":
/*!***********************************************************!*\
  !*** ./node_modules/@identity-connect/api/dist/index.mjs ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_BACKEND_URL: () => (/* binding */ DEFAULT_BACKEND_URL),\n/* harmony export */   NetworkName: () => (/* binding */ NetworkName),\n/* harmony export */   PairingStatus: () => (/* binding */ PairingStatus),\n/* harmony export */   SigningRequestStatus: () => (/* binding */ SigningRequestStatus),\n/* harmony export */   SigningRequestTypes: () => (/* binding */ SigningRequestTypes),\n/* harmony export */   WalletOSEnum: () => (/* binding */ WalletOSEnum),\n/* harmony export */   WalletPlatformEnum: () => (/* binding */ WalletPlatformEnum)\n/* harmony export */ });\n// src/constants.ts\nvar DEFAULT_BACKEND_URL = \"https://identityconnect.com\";\n\n// src/network.ts\nvar NetworkName = /* @__PURE__ */ ((NetworkName2) => {\n  NetworkName2[\"DEVNET\"] = \"devnet\";\n  NetworkName2[\"MAINNET\"] = \"mainnet\";\n  NetworkName2[\"TESTNET\"] = \"testnet\";\n  return NetworkName2;\n})(NetworkName || {});\n\n// src/types/pairing.ts\nvar PairingStatus = /* @__PURE__ */ ((PairingStatus2) => {\n  PairingStatus2[\"Finalized\"] = \"FINALIZED\";\n  PairingStatus2[\"Pending\"] = \"PENDING\";\n  return PairingStatus2;\n})(PairingStatus || {});\n\n// src/types/signingRequest.ts\nvar SigningRequestTypes = /* @__PURE__ */ ((SigningRequestTypes2) => {\n  SigningRequestTypes2[\"SIGN_AND_SUBMIT_TRANSACTION\"] = \"SIGN_AND_SUBMIT_TRANSACTION\";\n  SigningRequestTypes2[\"SIGN_MESSAGE\"] = \"SIGN_MESSAGE\";\n  SigningRequestTypes2[\"SIGN_TRANSACTION\"] = \"SIGN_TRANSACTION\";\n  return SigningRequestTypes2;\n})(SigningRequestTypes || {});\nvar SigningRequestStatus = /* @__PURE__ */ ((SigningRequestStatus2) => {\n  SigningRequestStatus2[\"APPROVED\"] = \"APPROVED\";\n  SigningRequestStatus2[\"CANCELLED\"] = \"CANCELLED\";\n  SigningRequestStatus2[\"INVALID\"] = \"INVALID\";\n  SigningRequestStatus2[\"PENDING\"] = \"PENDING\";\n  SigningRequestStatus2[\"REJECTED\"] = \"REJECTED\";\n  return SigningRequestStatus2;\n})(SigningRequestStatus || {});\n\n// src/types/wallet.ts\nvar WalletOSEnum = /* @__PURE__ */ ((WalletOSEnum2) => {\n  WalletOSEnum2[\"Android\"] = \"android\";\n  WalletOSEnum2[\"IdentityConnect\"] = \"ic\";\n  WalletOSEnum2[\"Linux\"] = \"linux\";\n  WalletOSEnum2[\"Macos\"] = \"osx\";\n  WalletOSEnum2[\"Windows\"] = \"win\";\n  WalletOSEnum2[\"iOS\"] = \"ios\";\n  return WalletOSEnum2;\n})(WalletOSEnum || {});\nvar WalletPlatformEnum = /* @__PURE__ */ ((WalletPlatformEnum2) => {\n  WalletPlatformEnum2[\"BraveExtension\"] = \"brave-extension\";\n  WalletPlatformEnum2[\"ChromeExtension\"] = \"chrome-extension\";\n  WalletPlatformEnum2[\"FirefoxExtension\"] = \"firefox-extension\";\n  WalletPlatformEnum2[\"IcDappWallet\"] = \"ic-dapp-wallet\";\n  WalletPlatformEnum2[\"KiwiExtension\"] = \"kiwi-extension\";\n  WalletPlatformEnum2[\"NativeApp\"] = \"native-app\";\n  WalletPlatformEnum2[\"OperaExtension\"] = \"opera-extension\";\n  WalletPlatformEnum2[\"SafariExtension\"] = \"safari-extension\";\n  return WalletPlatformEnum2;\n})(WalletPlatformEnum || {});\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGlkZW50aXR5LWNvbm5lY3QvYXBpL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUJBQW1COztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQkFBcUI7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMkJBQTJCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0JBQW9CO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQkFBMEI7QUFTekI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BhcHRvcy1sYWJzL3dhbGxldC1hZGFwdGVyLW5leHRqcy1leGFtcGxlLy4vbm9kZV9tb2R1bGVzL0BpZGVudGl0eS1jb25uZWN0L2FwaS9kaXN0L2luZGV4Lm1qcz9kNzYwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb25zdGFudHMudHNcbnZhciBERUZBVUxUX0JBQ0tFTkRfVVJMID0gXCJodHRwczovL2lkZW50aXR5Y29ubmVjdC5jb21cIjtcblxuLy8gc3JjL25ldHdvcmsudHNcbnZhciBOZXR3b3JrTmFtZSA9IC8qIEBfX1BVUkVfXyAqLyAoKE5ldHdvcmtOYW1lMikgPT4ge1xuICBOZXR3b3JrTmFtZTJbXCJERVZORVRcIl0gPSBcImRldm5ldFwiO1xuICBOZXR3b3JrTmFtZTJbXCJNQUlOTkVUXCJdID0gXCJtYWlubmV0XCI7XG4gIE5ldHdvcmtOYW1lMltcIlRFU1RORVRcIl0gPSBcInRlc3RuZXRcIjtcbiAgcmV0dXJuIE5ldHdvcmtOYW1lMjtcbn0pKE5ldHdvcmtOYW1lIHx8IHt9KTtcblxuLy8gc3JjL3R5cGVzL3BhaXJpbmcudHNcbnZhciBQYWlyaW5nU3RhdHVzID0gLyogQF9fUFVSRV9fICovICgoUGFpcmluZ1N0YXR1czIpID0+IHtcbiAgUGFpcmluZ1N0YXR1czJbXCJGaW5hbGl6ZWRcIl0gPSBcIkZJTkFMSVpFRFwiO1xuICBQYWlyaW5nU3RhdHVzMltcIlBlbmRpbmdcIl0gPSBcIlBFTkRJTkdcIjtcbiAgcmV0dXJuIFBhaXJpbmdTdGF0dXMyO1xufSkoUGFpcmluZ1N0YXR1cyB8fCB7fSk7XG5cbi8vIHNyYy90eXBlcy9zaWduaW5nUmVxdWVzdC50c1xudmFyIFNpZ25pbmdSZXF1ZXN0VHlwZXMgPSAvKiBAX19QVVJFX18gKi8gKChTaWduaW5nUmVxdWVzdFR5cGVzMikgPT4ge1xuICBTaWduaW5nUmVxdWVzdFR5cGVzMltcIlNJR05fQU5EX1NVQk1JVF9UUkFOU0FDVElPTlwiXSA9IFwiU0lHTl9BTkRfU1VCTUlUX1RSQU5TQUNUSU9OXCI7XG4gIFNpZ25pbmdSZXF1ZXN0VHlwZXMyW1wiU0lHTl9NRVNTQUdFXCJdID0gXCJTSUdOX01FU1NBR0VcIjtcbiAgU2lnbmluZ1JlcXVlc3RUeXBlczJbXCJTSUdOX1RSQU5TQUNUSU9OXCJdID0gXCJTSUdOX1RSQU5TQUNUSU9OXCI7XG4gIHJldHVybiBTaWduaW5nUmVxdWVzdFR5cGVzMjtcbn0pKFNpZ25pbmdSZXF1ZXN0VHlwZXMgfHwge30pO1xudmFyIFNpZ25pbmdSZXF1ZXN0U3RhdHVzID0gLyogQF9fUFVSRV9fICovICgoU2lnbmluZ1JlcXVlc3RTdGF0dXMyKSA9PiB7XG4gIFNpZ25pbmdSZXF1ZXN0U3RhdHVzMltcIkFQUFJPVkVEXCJdID0gXCJBUFBST1ZFRFwiO1xuICBTaWduaW5nUmVxdWVzdFN0YXR1czJbXCJDQU5DRUxMRURcIl0gPSBcIkNBTkNFTExFRFwiO1xuICBTaWduaW5nUmVxdWVzdFN0YXR1czJbXCJJTlZBTElEXCJdID0gXCJJTlZBTElEXCI7XG4gIFNpZ25pbmdSZXF1ZXN0U3RhdHVzMltcIlBFTkRJTkdcIl0gPSBcIlBFTkRJTkdcIjtcbiAgU2lnbmluZ1JlcXVlc3RTdGF0dXMyW1wiUkVKRUNURURcIl0gPSBcIlJFSkVDVEVEXCI7XG4gIHJldHVybiBTaWduaW5nUmVxdWVzdFN0YXR1czI7XG59KShTaWduaW5nUmVxdWVzdFN0YXR1cyB8fCB7fSk7XG5cbi8vIHNyYy90eXBlcy93YWxsZXQudHNcbnZhciBXYWxsZXRPU0VudW0gPSAvKiBAX19QVVJFX18gKi8gKChXYWxsZXRPU0VudW0yKSA9PiB7XG4gIFdhbGxldE9TRW51bTJbXCJBbmRyb2lkXCJdID0gXCJhbmRyb2lkXCI7XG4gIFdhbGxldE9TRW51bTJbXCJJZGVudGl0eUNvbm5lY3RcIl0gPSBcImljXCI7XG4gIFdhbGxldE9TRW51bTJbXCJMaW51eFwiXSA9IFwibGludXhcIjtcbiAgV2FsbGV0T1NFbnVtMltcIk1hY29zXCJdID0gXCJvc3hcIjtcbiAgV2FsbGV0T1NFbnVtMltcIldpbmRvd3NcIl0gPSBcIndpblwiO1xuICBXYWxsZXRPU0VudW0yW1wiaU9TXCJdID0gXCJpb3NcIjtcbiAgcmV0dXJuIFdhbGxldE9TRW51bTI7XG59KShXYWxsZXRPU0VudW0gfHwge30pO1xudmFyIFdhbGxldFBsYXRmb3JtRW51bSA9IC8qIEBfX1BVUkVfXyAqLyAoKFdhbGxldFBsYXRmb3JtRW51bTIpID0+IHtcbiAgV2FsbGV0UGxhdGZvcm1FbnVtMltcIkJyYXZlRXh0ZW5zaW9uXCJdID0gXCJicmF2ZS1leHRlbnNpb25cIjtcbiAgV2FsbGV0UGxhdGZvcm1FbnVtMltcIkNocm9tZUV4dGVuc2lvblwiXSA9IFwiY2hyb21lLWV4dGVuc2lvblwiO1xuICBXYWxsZXRQbGF0Zm9ybUVudW0yW1wiRmlyZWZveEV4dGVuc2lvblwiXSA9IFwiZmlyZWZveC1leHRlbnNpb25cIjtcbiAgV2FsbGV0UGxhdGZvcm1FbnVtMltcIkljRGFwcFdhbGxldFwiXSA9IFwiaWMtZGFwcC13YWxsZXRcIjtcbiAgV2FsbGV0UGxhdGZvcm1FbnVtMltcIktpd2lFeHRlbnNpb25cIl0gPSBcImtpd2ktZXh0ZW5zaW9uXCI7XG4gIFdhbGxldFBsYXRmb3JtRW51bTJbXCJOYXRpdmVBcHBcIl0gPSBcIm5hdGl2ZS1hcHBcIjtcbiAgV2FsbGV0UGxhdGZvcm1FbnVtMltcIk9wZXJhRXh0ZW5zaW9uXCJdID0gXCJvcGVyYS1leHRlbnNpb25cIjtcbiAgV2FsbGV0UGxhdGZvcm1FbnVtMltcIlNhZmFyaUV4dGVuc2lvblwiXSA9IFwic2FmYXJpLWV4dGVuc2lvblwiO1xuICByZXR1cm4gV2FsbGV0UGxhdGZvcm1FbnVtMjtcbn0pKFdhbGxldFBsYXRmb3JtRW51bSB8fCB7fSk7XG5leHBvcnQge1xuICBERUZBVUxUX0JBQ0tFTkRfVVJMLFxuICBOZXR3b3JrTmFtZSxcbiAgUGFpcmluZ1N0YXR1cyxcbiAgU2lnbmluZ1JlcXVlc3RTdGF0dXMsXG4gIFNpZ25pbmdSZXF1ZXN0VHlwZXMsXG4gIFdhbGxldE9TRW51bSxcbiAgV2FsbGV0UGxhdGZvcm1FbnVtXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@identity-connect/api/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@identity-connect/crypto/dist/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/@identity-connect/crypto/dist/index.mjs ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccountConnectionAction: () => (/* binding */ AccountConnectionAction),\n/* harmony export */   DecryptionError: () => (/* binding */ DecryptionError),\n/* harmony export */   EncryptionEnvelopeError: () => (/* binding */ EncryptionEnvelopeError),\n/* harmony export */   EnvelopeMessageMismatchError: () => (/* binding */ EnvelopeMessageMismatchError),\n/* harmony export */   KeyTypes: () => (/* binding */ KeyTypes),\n/* harmony export */   REQUIRED_FIELDS: () => (/* binding */ REQUIRED_FIELDS),\n/* harmony export */   SIGNATURE_PREFIX: () => (/* binding */ SIGNATURE_PREFIX),\n/* harmony export */   aptosAccountToEd25519Keypair: () => (/* binding */ aptosAccountToEd25519Keypair),\n/* harmony export */   aptosAccountToSerializedInfo: () => (/* binding */ aptosAccountToSerializedInfo),\n/* harmony export */   concatUint8array: () => (/* binding */ concatUint8array),\n/* harmony export */   constructMetadata: () => (/* binding */ constructMetadata),\n/* harmony export */   convertEd25519PublicKeyToX25519PublicKey: () => (/* binding */ convertEd25519PublicKeyToX25519PublicKey),\n/* harmony export */   convertEd25519SecretKeyToX25519SecretKey: () => (/* binding */ convertEd25519SecretKeyToX25519SecretKey),\n/* harmony export */   createEd25519KeyPair: () => (/* binding */ createEd25519KeyPair),\n/* harmony export */   createSerializedAccountInfo: () => (/* binding */ createSerializedAccountInfo),\n/* harmony export */   createX25519KeyPair: () => (/* binding */ createX25519KeyPair),\n/* harmony export */   dangerouslyEncryptAndSignEnvelopeUnvalidated: () => (/* binding */ dangerouslyEncryptAndSignEnvelopeUnvalidated),\n/* harmony export */   decodeBase64: () => (/* binding */ decodeBase64),\n/* harmony export */   decryptEnvelope: () => (/* binding */ decryptEnvelope),\n/* harmony export */   decryptMessage: () => (/* binding */ decryptMessage),\n/* harmony export */   decryptMessageDirect: () => (/* binding */ decryptMessageDirect),\n/* harmony export */   decryptObject: () => (/* binding */ decryptObject),\n/* harmony export */   decryptObjectDirect: () => (/* binding */ decryptObjectDirect),\n/* harmony export */   decryptSerializedEncryptionResult: () => (/* binding */ decryptSerializedEncryptionResult),\n/* harmony export */   decryptSerializedEncryptionResultDirect: () => (/* binding */ decryptSerializedEncryptionResultDirect),\n/* harmony export */   deriveAccountTransportEd25519Keypair: () => (/* binding */ deriveAccountTransportEd25519Keypair),\n/* harmony export */   deserializeEd25519PublicKeyB64: () => (/* binding */ deserializeEd25519PublicKeyB64),\n/* harmony export */   deserializeEd25519SignatureB64: () => (/* binding */ deserializeEd25519SignatureB64),\n/* harmony export */   deserializeEncryptionResult: () => (/* binding */ deserializeEncryptionResult),\n/* harmony export */   deserializePublicKeyB64: () => (/* binding */ deserializePublicKeyB64),\n/* harmony export */   deserializeSignatureB64: () => (/* binding */ deserializeSignatureB64),\n/* harmony export */   deserializeTransportEnvelope: () => (/* binding */ deserializeTransportEnvelope),\n/* harmony export */   ed25519KeypairFromSecret: () => (/* binding */ ed25519KeypairFromSecret),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   encryptAndSignEnvelope: () => (/* binding */ encryptAndSignEnvelope),\n/* harmony export */   encryptMessage: () => (/* binding */ encryptMessage),\n/* harmony export */   encryptMessageDirect: () => (/* binding */ encryptMessageDirect),\n/* harmony export */   encryptObject: () => (/* binding */ encryptObject),\n/* harmony export */   encryptObjectDirect: () => (/* binding */ encryptObjectDirect),\n/* harmony export */   ensureMetadataFields: () => (/* binding */ ensureMetadataFields),\n/* harmony export */   ensurePrivatePublicFieldsDisjoint: () => (/* binding */ ensurePrivatePublicFieldsDisjoint),\n/* harmony export */   hashAndVerifySignature: () => (/* binding */ hashAndVerifySignature),\n/* harmony export */   keypairToEd25519: () => (/* binding */ keypairToEd25519),\n/* harmony export */   keypairToX25519: () => (/* binding */ keypairToX25519),\n/* harmony export */   makeEd25519SecretKeySignCallbackNoDomainSeparation: () => (/* binding */ makeEd25519SecretKeySignCallbackNoDomainSeparation),\n/* harmony export */   messageHash: () => (/* binding */ messageHash),\n/* harmony export */   publicKeyB64FromEd25519PublicKeyB64: () => (/* binding */ publicKeyB64FromEd25519PublicKeyB64),\n/* harmony export */   serializeEncryptionResult: () => (/* binding */ serializeEncryptionResult),\n/* harmony export */   serializePublicKeyB64: () => (/* binding */ serializePublicKeyB64),\n/* harmony export */   serializeSignatureB64: () => (/* binding */ serializeSignatureB64),\n/* harmony export */   signWithEd25519SecretKey: () => (/* binding */ signWithEd25519SecretKey),\n/* harmony export */   toKey: () => (/* binding */ toKey),\n/* harmony export */   verifyEnvelopeSignature: () => (/* binding */ verifyEnvelopeSignature),\n/* harmony export */   verifySignature: () => (/* binding */ verifySignature)\n/* harmony export */ });\n/* harmony import */ var _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aptos-labs/ts-sdk */ \"(ssr)/./node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs\");\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var tweetnacl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tweetnacl */ \"(ssr)/./node_modules/tweetnacl/nacl-fast.js\");\n/* harmony import */ var ed2curve__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ed2curve */ \"(ssr)/./node_modules/ed2curve/ed2curve.js\");\n/* harmony import */ var _aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aptos-connect/wallet-api */ \"(ssr)/./node_modules/@aptos-connect/wallet-api/dist/index.mjs\");\n// src/encrDecr.ts\n\n\n\n\n\n// src/errors.ts\nvar EncryptionEnvelopeError = class extends Error {\n};\nvar EnvelopeMessageMismatchError = class _EnvelopeMessageMismatchError extends EncryptionEnvelopeError {\n  constructor(message, field) {\n    super(message);\n    this.field = field;\n    this.name = \"EnvelopeMessageMismatchError\";\n    Object.setPrototypeOf(this, _EnvelopeMessageMismatchError.prototype);\n  }\n};\nvar DecryptionError = class _DecryptionError extends EncryptionEnvelopeError {\n  constructor(message) {\n    super(message);\n    this.name = \"DecryptionError\";\n    Object.setPrototypeOf(this, _DecryptionError.prototype);\n  }\n};\n\n// src/utils.ts\n\nvar KeyTypes = /* @__PURE__ */ ((KeyTypes2) => {\n  KeyTypes2[\"Ed25519PublicKey\"] = \"Ed25519PublicKey\";\n  KeyTypes2[\"Ed25519SecretKey\"] = \"Ed25519SecretKey\";\n  KeyTypes2[\"X25519PublicKey\"] = \"X25519PublicKey\";\n  KeyTypes2[\"X25519SecretKey\"] = \"X25519SecretKey\";\n  return KeyTypes2;\n})(KeyTypes || {});\nfunction createX25519KeyPair() {\n  return keypairToX25519(tweetnacl__WEBPACK_IMPORTED_MODULE_1__.box.keyPair());\n}\nfunction createEd25519KeyPair() {\n  return keypairToEd25519(tweetnacl__WEBPACK_IMPORTED_MODULE_1__.sign.keyPair());\n}\nfunction toKey(rawKey, type) {\n  return {\n    key: rawKey,\n    type\n  };\n}\nfunction keypairToEd25519(keyPair) {\n  return {\n    publicKey: toKey(keyPair.publicKey, \"Ed25519PublicKey\" /* Ed25519PublicKey */),\n    secretKey: toKey(keyPair.secretKey, \"Ed25519SecretKey\" /* Ed25519SecretKey */)\n  };\n}\nfunction keypairToX25519(keyPair) {\n  return {\n    publicKey: toKey(keyPair.publicKey, \"X25519PublicKey\" /* X25519PublicKey */),\n    secretKey: toKey(keyPair.secretKey, \"X25519SecretKey\" /* X25519SecretKey */)\n  };\n}\nfunction aptosAccountToEd25519Keypair(account) {\n  return ed25519KeypairFromSecret(account.signingKey.secretKey);\n}\nfunction ed25519KeypairFromSecret(ed25519SecretKeyBytes) {\n  return keypairToEd25519(tweetnacl__WEBPACK_IMPORTED_MODULE_1__.sign.keyPair.fromSeed(ed25519SecretKeyBytes.slice(0, 32)));\n}\nfunction decodeBase64(base64Str) {\n  if (globalThis.Buffer) {\n    return new Uint8Array(Buffer.from(base64Str, \"base64\"));\n  }\n  return Uint8Array.from(atob(base64Str), (m) => m.codePointAt(0));\n}\nfunction encodeBase64(bytes) {\n  if (globalThis.Buffer) {\n    return Buffer.from(bytes).toString(\"base64\");\n  }\n  return btoa(Array.from(bytes, (x) => String.fromCodePoint(x)).join(\"\"));\n}\nfunction concatUint8array(arrayOne, arrayTwo) {\n  const mergedArray = new Uint8Array(arrayOne.length + arrayTwo.length);\n  mergedArray.set(arrayOne);\n  mergedArray.set(arrayTwo, arrayOne.length);\n  return mergedArray;\n}\n\n// src/encrDecr.ts\nvar SIGNATURE_PREFIX = \"APTOS::IDENTITY_CONNECT\";\nfunction convertEd25519PublicKeyToX25519PublicKey(ed25519PublicKey, errorKeyName) {\n  const x25519PublicKey = ed2curve__WEBPACK_IMPORTED_MODULE_2__.convertPublicKey(ed25519PublicKey.key.slice(0, 32));\n  if (!x25519PublicKey)\n    throw new Error(`${errorKeyName} is not a valid Ed25519 public key`);\n  return toKey(x25519PublicKey, \"X25519PublicKey\" /* X25519PublicKey */);\n}\nfunction convertEd25519SecretKeyToX25519SecretKey(ed25519SecretKey) {\n  const x25519SecretKey = ed2curve__WEBPACK_IMPORTED_MODULE_2__.convertSecretKey(ed25519SecretKey.key.slice(0, 32));\n  return toKey(x25519SecretKey, \"X25519SecretKey\" /* X25519SecretKey */);\n}\nfunction serializeEncryptionResult(enc) {\n  return {\n    nonceB64: encodeBase64(enc.nonce),\n    securedB64: encodeBase64(enc.secured)\n  };\n}\nfunction deserializeEncryptionResult(enc) {\n  return {\n    nonce: decodeBase64(enc.nonceB64),\n    secured: decodeBase64(enc.securedB64)\n  };\n}\nfunction decryptSerializedEncryptionResult(senderX25519PublicKey, receiverEd25519SecretKey, enc) {\n  const des = deserializeEncryptionResult(enc);\n  return decryptObject(senderX25519PublicKey, receiverEd25519SecretKey, des.secured, des.nonce);\n}\nfunction decryptSerializedEncryptionResultDirect(senderX25519PublicKey, receiverX25519SecretKey, enc) {\n  const des = deserializeEncryptionResult(enc);\n  return decryptObjectDirect(senderX25519PublicKey, receiverX25519SecretKey, des.secured, des.nonce);\n}\nfunction encryptMessage(senderX25519SecretKey, receiverEd25519PublicKey, message) {\n  const receiverX25519PublicKey = convertEd25519PublicKeyToX25519PublicKey(\n    receiverEd25519PublicKey,\n    \"receiver public key\"\n  );\n  return encryptMessageDirect(senderX25519SecretKey, receiverX25519PublicKey, message);\n}\nfunction encryptMessageDirect(senderX25519SecretKey, receiverX25519PublicKey, message) {\n  const nonce = tweetnacl__WEBPACK_IMPORTED_MODULE_1__.randomBytes(tweetnacl__WEBPACK_IMPORTED_MODULE_1__.box.nonceLength);\n  const messageUint8 = new TextEncoder().encode(message);\n  const secured = tweetnacl__WEBPACK_IMPORTED_MODULE_1__.box(messageUint8, nonce, receiverX25519PublicKey.key, senderX25519SecretKey.key.slice(0, 32));\n  return { nonce, secured };\n}\nfunction encryptObject(senderX25519SecretKey, receiverEd25519PublicKey, message) {\n  const receiverX25519PublicKey = convertEd25519PublicKeyToX25519PublicKey(\n    receiverEd25519PublicKey,\n    \"receiver public key\"\n  );\n  return encryptObjectDirect(senderX25519SecretKey, receiverX25519PublicKey, message);\n}\nfunction encryptObjectDirect(senderX25519SecretKey, receiverX25519PublicKey, message) {\n  return encryptMessageDirect(senderX25519SecretKey, receiverX25519PublicKey, JSON.stringify(message));\n}\nfunction decryptMessage(senderX25519PublicKey, receiverEd25519SecretKey, securedMessage, nonce) {\n  const receiverX25519SecretKey = convertEd25519SecretKeyToX25519SecretKey(receiverEd25519SecretKey);\n  return decryptMessageDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce);\n}\nfunction decryptMessageDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce) {\n  let decryptedUint8;\n  try {\n    decryptedUint8 = tweetnacl__WEBPACK_IMPORTED_MODULE_1__.box.open(\n      securedMessage,\n      nonce,\n      senderX25519PublicKey.key.slice(0, 32),\n      receiverX25519SecretKey.key.slice(0, 32)\n    );\n  } catch (e) {\n    throw new DecryptionError(`Could not decrypt message: ${e.message}`);\n  }\n  if (!decryptedUint8)\n    throw new DecryptionError(\"Could not decrypt message\");\n  return new TextDecoder().decode(decryptedUint8);\n}\nfunction decryptObject(senderX25519PublicKey, receiverEd25519SecretKey, securedMessage, nonce) {\n  const receiverX25519SecretKey = convertEd25519SecretKeyToX25519SecretKey(receiverEd25519SecretKey);\n  return decryptObjectDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce);\n}\nfunction decryptObjectDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce) {\n  const decryptedStr = decryptMessageDirect(senderX25519PublicKey, receiverX25519SecretKey, securedMessage, nonce);\n  return JSON.parse(decryptedStr);\n}\nfunction messageHash(message, purpose) {\n  const signaturePrefixHash = new Uint8Array((0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__.sha3_256)(`${SIGNATURE_PREFIX}::${purpose}::`));\n  return new Uint8Array((0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__.sha3_256)(concatUint8array(signaturePrefixHash, message)));\n}\nfunction signWithEd25519SecretKey(message, signingEd25519SecretKey, purpose) {\n  return tweetnacl__WEBPACK_IMPORTED_MODULE_1__.sign.detached(messageHash(message, purpose), signingEd25519SecretKey.key);\n}\nfunction makeEd25519SecretKeySignCallbackNoDomainSeparation(signingEd25519SecretKey) {\n  return async (message) => new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519Signature(tweetnacl__WEBPACK_IMPORTED_MODULE_1__.sign.detached(message, signingEd25519SecretKey.key));\n}\nfunction verifySignature(message, signature, signingPublicKey, purpose) {\n  return signingPublicKey.verifySignature({ message: messageHash(message, purpose), signature });\n}\nfunction hashAndVerifySignature(message, signature, signingPublicKey, purpose) {\n  const messageUint8 = message instanceof Uint8Array ? message : new TextEncoder().encode(message);\n  const messageUint8Hash = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__.sha3_256)(messageUint8);\n  return verifySignature(messageUint8Hash, signature, signingPublicKey, purpose);\n}\n\n// src/securedEnvelope.ts\n\n\nvar REQUIRED_FIELDS = [\n  \"receiverEd25519PublicKeyB64\",\n  \"senderEd25519PublicKeyB64\",\n  \"senderX25519PublicKeyB64\",\n  \"sequence\",\n  \"timestampMillis\"\n].sort();\nfunction ensurePrivatePublicFieldsDisjoint(privateMessage, publicMessage) {\n  const intersection = Object.keys(privateMessage).filter((x) => Object.keys(publicMessage).includes(x));\n  if (intersection.length > 0) {\n    const field = intersection[0];\n    throw new EnvelopeMessageMismatchError(`Field ${field} appears in both private and public message fields`, field);\n  }\n}\nfunction ensureMetadataFields(message) {\n  const messageKeys = Object.keys(message).sort();\n  const extraFields = messageKeys.filter((key) => !REQUIRED_FIELDS.includes(key));\n  const missingFields = REQUIRED_FIELDS.filter((key) => !messageKeys.includes(key));\n  if (extraFields.length > 0 || missingFields.length > 0) {\n    let extraFieldsStr = extraFields.length > 0 ? `extra(${extraFields.join(\", \")})` : \"\";\n    const missingFieldsStr = missingFields.length > 0 ? `missing(${missingFields.join(\", \")})` : \"\";\n    extraFieldsStr = extraFieldsStr.length > 0 && missingFieldsStr.length > 0 ? `${extraFieldsStr}, ` : extraFieldsStr;\n    throw new EnvelopeMessageMismatchError(\n      `PublicMessage metadata fields do not conform to spec: ${extraFieldsStr}${missingFieldsStr}`,\n      \"_metadata\"\n    );\n  }\n}\nfunction deserializeTransportEnvelope(transportEnvelope) {\n  const publicMessage = JSON.parse(transportEnvelope.serializedPublicMessage);\n  return {\n    ...transportEnvelope,\n    publicMessage\n  };\n}\nfunction encryptAndSignEnvelope(senderEd25519SecretKey, senderEd25519PublicKey, receiverEd25519PublicKey, sequence, publicMessage, privateMessage) {\n  const senderEphemeralX25519KeyPair = createX25519KeyPair();\n  const metadata = constructMetadata(\n    senderEd25519PublicKey,\n    receiverEd25519PublicKey,\n    sequence,\n    senderEphemeralX25519KeyPair.publicKey\n  );\n  ensureMetadataFields(metadata);\n  ensurePrivatePublicFieldsDisjoint(privateMessage, publicMessage);\n  return dangerouslyEncryptAndSignEnvelopeUnvalidated(\n    senderEd25519SecretKey,\n    receiverEd25519PublicKey,\n    metadata,\n    privateMessage,\n    publicMessage,\n    senderEphemeralX25519KeyPair\n  );\n}\nfunction constructMetadata(senderEd25519PublicKey, receiverEd25519PublicKey, sequence, senderEphemeralX25519PublicKey) {\n  return {\n    receiverEd25519PublicKeyB64: encodeBase64(receiverEd25519PublicKey.key),\n    senderEd25519PublicKeyB64: encodeBase64(senderEd25519PublicKey.key),\n    senderX25519PublicKeyB64: encodeBase64(senderEphemeralX25519PublicKey.key),\n    sequence,\n    timestampMillis: Date.now()\n  };\n}\nfunction dangerouslyEncryptAndSignEnvelopeUnvalidated(senderEd25519SecretKey, receiverEd25519PublicKey, metadata, privateMessage, publicMessage, senderEphemeralX25519KeyPair) {\n  const encryptionResult = encryptObject(\n    senderEphemeralX25519KeyPair.secretKey,\n    receiverEd25519PublicKey,\n    privateMessage\n  );\n  const encryptedPrivateMessage = serializeEncryptionResult(encryptionResult);\n  const encryptedPrivateMessageBytes = decodeBase64(encryptedPrivateMessage.securedB64);\n  const serializedPublicMessage = JSON.stringify({ ...publicMessage, _metadata: metadata });\n  const publicMessageBytes = new TextEncoder().encode(serializedPublicMessage);\n  const messageSignature = signEnvelope(publicMessageBytes, encryptedPrivateMessageBytes, senderEd25519SecretKey);\n  return {\n    encryptedPrivateMessage,\n    messageSignature,\n    serializedPublicMessage\n  };\n}\nfunction combineHashedEnvelopeMessageBytes(publicMessageBytes, privateMessageBytes) {\n  const publicMessageBytesHash = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__.sha3_256)(publicMessageBytes);\n  const privateMessageBytesHash = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__.sha3_256)(privateMessageBytes);\n  const combinedHash = new Uint8Array(publicMessageBytesHash.length + privateMessageBytesHash.length);\n  combinedHash.set(publicMessageBytesHash);\n  combinedHash.set(privateMessageBytesHash, publicMessageBytesHash.length);\n  return (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__.sha3_256)(combinedHash);\n}\nfunction signEnvelope(publicMessageBytes, privateMessageBytes, senderEd25519SecretKey) {\n  const messageHashBytes = combineHashedEnvelopeMessageBytes(publicMessageBytes, privateMessageBytes);\n  const signatureBytes = signWithEd25519SecretKey(messageHashBytes, senderEd25519SecretKey, \"SECURED_ENVELOPE\");\n  return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexInput(signatureBytes).toString();\n}\nfunction verifyEnvelopeSignature(publicMessageBytes, privateMessageBytes, messageSignatureInput, senderEd25519PublicKey) {\n  const messageSignature = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519Signature(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexInput(messageSignatureInput).toUint8Array());\n  const senderPublicKey = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519PublicKey(senderEd25519PublicKey.key);\n  const messageHashBytes = combineHashedEnvelopeMessageBytes(publicMessageBytes, privateMessageBytes);\n  const messageVerified = verifySignature(messageHashBytes, messageSignature, senderPublicKey, \"SECURED_ENVELOPE\");\n  if (!messageVerified) {\n    throw new EnvelopeMessageMismatchError(\"Could not verify SecuredEnvelope signature\", \"messageSignature\");\n  }\n}\nfunction decryptEnvelope(senderEd25519PublicKey, receiverEd25519SecretKey, message) {\n  const { encryptedPrivateMessage, messageSignature, serializedPublicMessage } = message;\n  const publicMessage = JSON.parse(serializedPublicMessage);\n  const rawPrivateMessage = decodeBase64(encryptedPrivateMessage.securedB64);\n  const rawPublicMessage = new TextEncoder().encode(serializedPublicMessage);\n  verifyEnvelopeSignature(rawPublicMessage, rawPrivateMessage, messageSignature, senderEd25519PublicKey);\n  const senderEd25519PublicKeyB64 = encodeBase64(senderEd25519PublicKey.key);\n  const expectedPublicKeyB64 = publicMessage._metadata.senderEd25519PublicKeyB64;\n  if (senderEd25519PublicKeyB64 !== expectedPublicKeyB64) {\n    throw new EnvelopeMessageMismatchError(\n      \"senderEd25519PublicKey in envelope does not match provided receiverEd25519SecretKey\",\n      \"senderPublicKey\"\n    );\n  }\n  const senderX25519PublicKeyBytes = decodeBase64(publicMessage._metadata.senderX25519PublicKeyB64);\n  const senderX25519PublicKey = toKey(senderX25519PublicKeyBytes, \"X25519PublicKey\" /* X25519PublicKey */);\n  const encryptionResult = deserializeEncryptionResult(encryptedPrivateMessage);\n  const privateMessage = decryptObject(\n    senderX25519PublicKey,\n    receiverEd25519SecretKey,\n    encryptionResult.secured,\n    encryptionResult.nonce\n  );\n  ensureMetadataFields(publicMessage._metadata);\n  ensurePrivatePublicFieldsDisjoint(privateMessage, publicMessage);\n  return {\n    messageSignature,\n    privateMessage,\n    publicMessage\n  };\n}\n\n// src/serialization.ts\n\n\nfunction serializePublicKeyB64(publicKey) {\n  const serializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Serializer();\n  (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.serializePublicKey)(serializer, publicKey);\n  return (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.bytesToBase64)(serializer.toUint8Array());\n}\nfunction deserializePublicKeyB64(publicKeyB64) {\n  const serializedPublicKey = (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.base64ToBytes)(publicKeyB64);\n  const deserializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Deserializer(serializedPublicKey);\n  return (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.deserializePublicKey)(deserializer);\n}\nfunction deserializeEd25519PublicKeyB64(ed25519PublicKeyB64) {\n  return new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519PublicKey(decodeBase64(ed25519PublicKeyB64));\n}\nfunction serializeSignatureB64(signature) {\n  const serializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Serializer();\n  (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.serializeSignature)(serializer, signature);\n  return (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.bytesToBase64)(serializer.toUint8Array());\n}\nfunction deserializeSignatureB64(signatureB64) {\n  const serializedSignature = (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.base64ToBytes)(signatureB64);\n  const deserializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Deserializer(serializedSignature);\n  return (0,_aptos_connect_wallet_api__WEBPACK_IMPORTED_MODULE_4__.deserializeSignature)(deserializer);\n}\nfunction deserializeEd25519SignatureB64(ed25519SignatureB64) {\n  const signatureBytes = _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexInput(ed25519SignatureB64).toUint8Array();\n  return new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Ed25519Signature(signatureBytes);\n}\nfunction publicKeyB64FromEd25519PublicKeyB64(ed25519PublicKeyB64) {\n  const publicKey = deserializeEd25519PublicKeyB64(ed25519PublicKeyB64);\n  return serializePublicKeyB64(publicKey);\n}\n\n// src/walletAccounts.ts\n\n\nvar AccountConnectionAction = /* @__PURE__ */ ((AccountConnectionAction2) => {\n  AccountConnectionAction2[\"ADD\"] = \"add\";\n  AccountConnectionAction2[\"REMOVE\"] = \"remove\";\n  return AccountConnectionAction2;\n})(AccountConnectionAction || {});\nfunction deriveAccountTransportEd25519Keypair(ed25519SecretKeyOrSignCallback, publicKey) {\n  const publicKeyBytes = publicKey instanceof _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.PublicKey ? publicKey.toUint8Array() : publicKey.key;\n  if (ed25519SecretKeyOrSignCallback instanceof Function) {\n    const seedGeneratorBytes = messageHash(publicKeyBytes, \"TRANSPORT_KEYPAIR\");\n    const signature = ed25519SecretKeyOrSignCallback(seedGeneratorBytes);\n    if (signature instanceof Promise) {\n      return signature.then((value) => ed25519KeypairFromSecret(value.toUint8Array()));\n    }\n    return ed25519KeypairFromSecret(signature.toUint8Array());\n  }\n  const seedBytes = signWithEd25519SecretKey(publicKeyBytes, ed25519SecretKeyOrSignCallback, \"TRANSPORT_KEYPAIR\");\n  return ed25519KeypairFromSecret(seedBytes);\n}\nfunction createSerializedAccountInfo(...[\n  signCallback,\n  publicKey,\n  transportEd25519PublicKey,\n  action,\n  intentId,\n  accountAddress\n]) {\n  const authKey = publicKey.authKey();\n  const finalAccountAddress = accountAddress || authKey.derivedAddress().toString();\n  const publicKeyB64 = serializePublicKeyB64(publicKey);\n  const accountInfo = {\n    accountAddress: finalAccountAddress,\n    action,\n    intentId,\n    publicKeyB64,\n    timestampMillis: Date.now(),\n    transportEd25519PublicKeyB64: encodeBase64(transportEd25519PublicKey.key)\n  };\n  const accountInfoSerialized = JSON.stringify(accountInfo);\n  const accountInfoBytes = new TextEncoder().encode(accountInfoSerialized);\n  const accountInfoHash = (0,_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_3__.sha3_256)(accountInfoBytes);\n  const signature = signCallback(messageHash(accountInfoHash, \"ACCOUNT_INFO\"));\n  if (signature instanceof Promise) {\n    return signature.then((value) => ({\n      accountInfoSerialized,\n      signatureB64: serializeSignatureB64(value)\n    }));\n  }\n  return {\n    accountInfoSerialized,\n    signatureB64: serializeSignatureB64(signature)\n  };\n}\nasync function aptosAccountToSerializedInfo(account, intentId) {\n  const signCallback = async (data) => account.sign(data);\n  const transportKey = await deriveAccountTransportEd25519Keypair(signCallback, account.publicKey);\n  return createSerializedAccountInfo(\n    signCallback,\n    account.publicKey,\n    transportKey.publicKey,\n    \"add\" /* ADD */,\n    intentId\n  );\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGlkZW50aXR5LWNvbm5lY3QvY3J5cHRvL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDc0Q7QUFDUjtBQUNoQjtBQUNFOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQkFBZ0I7QUFDakI7QUFDQSx5QkFBeUIsMENBQVE7QUFDakM7QUFDQTtBQUNBLDBCQUEwQiwyQ0FBUztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDJDQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzREFBeUI7QUFDbkQ7QUFDQSx1QkFBdUIsY0FBYztBQUNyQztBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0RBQXlCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBaUIsQ0FBQywwQ0FBUztBQUMzQztBQUNBLGtCQUFrQiwwQ0FBUztBQUMzQixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBDQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osNERBQTRELFVBQVU7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw0REFBUSxJQUFJLGlCQUFpQixJQUFJLFFBQVE7QUFDdEYsd0JBQXdCLDREQUFRO0FBQ2hDO0FBQ0E7QUFDQSxTQUFTLDJDQUFVO0FBQ25CO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0VBQWdCLENBQUMsMkNBQVU7QUFDM0Q7QUFDQTtBQUNBLDRDQUE0QyxtREFBbUQ7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDREQUFRO0FBQ25DO0FBQ0E7O0FBRUE7QUFDMkg7QUFDaEU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxPQUFPO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHVCQUF1QjtBQUNsRixtRUFBbUUseUJBQXlCO0FBQzVGLG1GQUFtRixlQUFlO0FBQ2xHO0FBQ0EsK0RBQStELGVBQWUsRUFBRSxpQkFBaUI7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx1Q0FBdUM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDREQUFTO0FBQzFDLGtDQUFrQyw0REFBUztBQUMzQztBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtREFBRztBQUNaO0FBQ0E7QUFDQSwrQkFBK0IsZ0VBQWlCLENBQUMsbURBQUc7QUFDcEQsOEJBQThCLGdFQUFxQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUVBQXFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFRbUM7QUFPUDtBQUM1QjtBQUNBLHlCQUF5QiwwREFBVTtBQUNuQyxFQUFFLDZFQUFrQjtBQUNwQixTQUFTLHdFQUFhO0FBQ3RCO0FBQ0E7QUFDQSw4QkFBOEIsd0VBQWE7QUFDM0MsMkJBQTJCLDREQUFZO0FBQ3ZDLFNBQVMsK0VBQW9CO0FBQzdCO0FBQ0E7QUFDQSxhQUFhLGdFQUFzQjtBQUNuQztBQUNBO0FBQ0EseUJBQXlCLDBEQUFVO0FBQ25DLEVBQUUsNkVBQWtCO0FBQ3BCLFNBQVMsd0VBQWE7QUFDdEI7QUFDQTtBQUNBLDhCQUE4Qix3RUFBYTtBQUMzQywyQkFBMkIsNERBQVk7QUFDdkMsU0FBUywrRUFBb0I7QUFDN0I7QUFDQTtBQUNBLHlCQUF5QixtREFBSTtBQUM3QixhQUFhLGdFQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2lFO0FBQ047QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjtBQUNoQztBQUNBLDhDQUE4Qyx5REFBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDREQUFTO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXdERTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGFwdG9zLWxhYnMvd2FsbGV0LWFkYXB0ZXItbmV4dGpzLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvQGlkZW50aXR5LWNvbm5lY3QvY3J5cHRvL2Rpc3QvaW5kZXgubWpzP2U0MjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2VuY3JEZWNyLnRzXG5pbXBvcnQgeyBFZDI1NTE5U2lnbmF0dXJlIH0gZnJvbSBcIkBhcHRvcy1sYWJzL3RzLXNka1wiO1xuaW1wb3J0IHsgc2hhM18yNTYgfSBmcm9tIFwiQG5vYmxlL2hhc2hlcy9zaGEzXCI7XG5pbXBvcnQgbmFjbDIgZnJvbSBcInR3ZWV0bmFjbFwiO1xuaW1wb3J0IGVkMmN1cnZlIGZyb20gXCJlZDJjdXJ2ZVwiO1xuXG4vLyBzcmMvZXJyb3JzLnRzXG52YXIgRW5jcnlwdGlvbkVudmVsb3BlRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbn07XG52YXIgRW52ZWxvcGVNZXNzYWdlTWlzbWF0Y2hFcnJvciA9IGNsYXNzIF9FbnZlbG9wZU1lc3NhZ2VNaXNtYXRjaEVycm9yIGV4dGVuZHMgRW5jcnlwdGlvbkVudmVsb3BlRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBmaWVsZCkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICB0aGlzLm5hbWUgPSBcIkVudmVsb3BlTWVzc2FnZU1pc21hdGNoRXJyb3JcIjtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgX0VudmVsb3BlTWVzc2FnZU1pc21hdGNoRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufTtcbnZhciBEZWNyeXB0aW9uRXJyb3IgPSBjbGFzcyBfRGVjcnlwdGlvbkVycm9yIGV4dGVuZHMgRW5jcnlwdGlvbkVudmVsb3BlRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJEZWNyeXB0aW9uRXJyb3JcIjtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgX0RlY3J5cHRpb25FcnJvci5wcm90b3R5cGUpO1xuICB9XG59O1xuXG4vLyBzcmMvdXRpbHMudHNcbmltcG9ydCBuYWNsIGZyb20gXCJ0d2VldG5hY2xcIjtcbnZhciBLZXlUeXBlcyA9IC8qIEBfX1BVUkVfXyAqLyAoKEtleVR5cGVzMikgPT4ge1xuICBLZXlUeXBlczJbXCJFZDI1NTE5UHVibGljS2V5XCJdID0gXCJFZDI1NTE5UHVibGljS2V5XCI7XG4gIEtleVR5cGVzMltcIkVkMjU1MTlTZWNyZXRLZXlcIl0gPSBcIkVkMjU1MTlTZWNyZXRLZXlcIjtcbiAgS2V5VHlwZXMyW1wiWDI1NTE5UHVibGljS2V5XCJdID0gXCJYMjU1MTlQdWJsaWNLZXlcIjtcbiAgS2V5VHlwZXMyW1wiWDI1NTE5U2VjcmV0S2V5XCJdID0gXCJYMjU1MTlTZWNyZXRLZXlcIjtcbiAgcmV0dXJuIEtleVR5cGVzMjtcbn0pKEtleVR5cGVzIHx8IHt9KTtcbmZ1bmN0aW9uIGNyZWF0ZVgyNTUxOUtleVBhaXIoKSB7XG4gIHJldHVybiBrZXlwYWlyVG9YMjU1MTkobmFjbC5ib3gua2V5UGFpcigpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVkMjU1MTlLZXlQYWlyKCkge1xuICByZXR1cm4ga2V5cGFpclRvRWQyNTUxOShuYWNsLnNpZ24ua2V5UGFpcigpKTtcbn1cbmZ1bmN0aW9uIHRvS2V5KHJhd0tleSwgdHlwZSkge1xuICByZXR1cm4ge1xuICAgIGtleTogcmF3S2V5LFxuICAgIHR5cGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGtleXBhaXJUb0VkMjU1MTkoa2V5UGFpcikge1xuICByZXR1cm4ge1xuICAgIHB1YmxpY0tleTogdG9LZXkoa2V5UGFpci5wdWJsaWNLZXksIFwiRWQyNTUxOVB1YmxpY0tleVwiIC8qIEVkMjU1MTlQdWJsaWNLZXkgKi8pLFxuICAgIHNlY3JldEtleTogdG9LZXkoa2V5UGFpci5zZWNyZXRLZXksIFwiRWQyNTUxOVNlY3JldEtleVwiIC8qIEVkMjU1MTlTZWNyZXRLZXkgKi8pXG4gIH07XG59XG5mdW5jdGlvbiBrZXlwYWlyVG9YMjU1MTkoa2V5UGFpcikge1xuICByZXR1cm4ge1xuICAgIHB1YmxpY0tleTogdG9LZXkoa2V5UGFpci5wdWJsaWNLZXksIFwiWDI1NTE5UHVibGljS2V5XCIgLyogWDI1NTE5UHVibGljS2V5ICovKSxcbiAgICBzZWNyZXRLZXk6IHRvS2V5KGtleVBhaXIuc2VjcmV0S2V5LCBcIlgyNTUxOVNlY3JldEtleVwiIC8qIFgyNTUxOVNlY3JldEtleSAqLylcbiAgfTtcbn1cbmZ1bmN0aW9uIGFwdG9zQWNjb3VudFRvRWQyNTUxOUtleXBhaXIoYWNjb3VudCkge1xuICByZXR1cm4gZWQyNTUxOUtleXBhaXJGcm9tU2VjcmV0KGFjY291bnQuc2lnbmluZ0tleS5zZWNyZXRLZXkpO1xufVxuZnVuY3Rpb24gZWQyNTUxOUtleXBhaXJGcm9tU2VjcmV0KGVkMjU1MTlTZWNyZXRLZXlCeXRlcykge1xuICByZXR1cm4ga2V5cGFpclRvRWQyNTUxOShuYWNsLnNpZ24ua2V5UGFpci5mcm9tU2VlZChlZDI1NTE5U2VjcmV0S2V5Qnl0ZXMuc2xpY2UoMCwgMzIpKSk7XG59XG5mdW5jdGlvbiBkZWNvZGVCYXNlNjQoYmFzZTY0U3RyKSB7XG4gIGlmIChnbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShCdWZmZXIuZnJvbShiYXNlNjRTdHIsIFwiYmFzZTY0XCIpKTtcbiAgfVxuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGF0b2IoYmFzZTY0U3RyKSwgKG0pID0+IG0uY29kZVBvaW50QXQoMCkpO1xufVxuZnVuY3Rpb24gZW5jb2RlQmFzZTY0KGJ5dGVzKSB7XG4gIGlmIChnbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gIH1cbiAgcmV0dXJuIGJ0b2EoQXJyYXkuZnJvbShieXRlcywgKHgpID0+IFN0cmluZy5mcm9tQ29kZVBvaW50KHgpKS5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIGNvbmNhdFVpbnQ4YXJyYXkoYXJyYXlPbmUsIGFycmF5VHdvKSB7XG4gIGNvbnN0IG1lcmdlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlPbmUubGVuZ3RoICsgYXJyYXlUd28ubGVuZ3RoKTtcbiAgbWVyZ2VkQXJyYXkuc2V0KGFycmF5T25lKTtcbiAgbWVyZ2VkQXJyYXkuc2V0KGFycmF5VHdvLCBhcnJheU9uZS5sZW5ndGgpO1xuICByZXR1cm4gbWVyZ2VkQXJyYXk7XG59XG5cbi8vIHNyYy9lbmNyRGVjci50c1xudmFyIFNJR05BVFVSRV9QUkVGSVggPSBcIkFQVE9TOjpJREVOVElUWV9DT05ORUNUXCI7XG5mdW5jdGlvbiBjb252ZXJ0RWQyNTUxOVB1YmxpY0tleVRvWDI1NTE5UHVibGljS2V5KGVkMjU1MTlQdWJsaWNLZXksIGVycm9yS2V5TmFtZSkge1xuICBjb25zdCB4MjU1MTlQdWJsaWNLZXkgPSBlZDJjdXJ2ZS5jb252ZXJ0UHVibGljS2V5KGVkMjU1MTlQdWJsaWNLZXkua2V5LnNsaWNlKDAsIDMyKSk7XG4gIGlmICgheDI1NTE5UHVibGljS2V5KVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnJvcktleU5hbWV9IGlzIG5vdCBhIHZhbGlkIEVkMjU1MTkgcHVibGljIGtleWApO1xuICByZXR1cm4gdG9LZXkoeDI1NTE5UHVibGljS2V5LCBcIlgyNTUxOVB1YmxpY0tleVwiIC8qIFgyNTUxOVB1YmxpY0tleSAqLyk7XG59XG5mdW5jdGlvbiBjb252ZXJ0RWQyNTUxOVNlY3JldEtleVRvWDI1NTE5U2VjcmV0S2V5KGVkMjU1MTlTZWNyZXRLZXkpIHtcbiAgY29uc3QgeDI1NTE5U2VjcmV0S2V5ID0gZWQyY3VydmUuY29udmVydFNlY3JldEtleShlZDI1NTE5U2VjcmV0S2V5LmtleS5zbGljZSgwLCAzMikpO1xuICByZXR1cm4gdG9LZXkoeDI1NTE5U2VjcmV0S2V5LCBcIlgyNTUxOVNlY3JldEtleVwiIC8qIFgyNTUxOVNlY3JldEtleSAqLyk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVFbmNyeXB0aW9uUmVzdWx0KGVuYykge1xuICByZXR1cm4ge1xuICAgIG5vbmNlQjY0OiBlbmNvZGVCYXNlNjQoZW5jLm5vbmNlKSxcbiAgICBzZWN1cmVkQjY0OiBlbmNvZGVCYXNlNjQoZW5jLnNlY3VyZWQpXG4gIH07XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVuY3J5cHRpb25SZXN1bHQoZW5jKSB7XG4gIHJldHVybiB7XG4gICAgbm9uY2U6IGRlY29kZUJhc2U2NChlbmMubm9uY2VCNjQpLFxuICAgIHNlY3VyZWQ6IGRlY29kZUJhc2U2NChlbmMuc2VjdXJlZEI2NClcbiAgfTtcbn1cbmZ1bmN0aW9uIGRlY3J5cHRTZXJpYWxpemVkRW5jcnlwdGlvblJlc3VsdChzZW5kZXJYMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyRWQyNTUxOVNlY3JldEtleSwgZW5jKSB7XG4gIGNvbnN0IGRlcyA9IGRlc2VyaWFsaXplRW5jcnlwdGlvblJlc3VsdChlbmMpO1xuICByZXR1cm4gZGVjcnlwdE9iamVjdChzZW5kZXJYMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyRWQyNTUxOVNlY3JldEtleSwgZGVzLnNlY3VyZWQsIGRlcy5ub25jZSk7XG59XG5mdW5jdGlvbiBkZWNyeXB0U2VyaWFsaXplZEVuY3J5cHRpb25SZXN1bHREaXJlY3Qoc2VuZGVyWDI1NTE5UHVibGljS2V5LCByZWNlaXZlclgyNTUxOVNlY3JldEtleSwgZW5jKSB7XG4gIGNvbnN0IGRlcyA9IGRlc2VyaWFsaXplRW5jcnlwdGlvblJlc3VsdChlbmMpO1xuICByZXR1cm4gZGVjcnlwdE9iamVjdERpcmVjdChzZW5kZXJYMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyWDI1NTE5U2VjcmV0S2V5LCBkZXMuc2VjdXJlZCwgZGVzLm5vbmNlKTtcbn1cbmZ1bmN0aW9uIGVuY3J5cHRNZXNzYWdlKHNlbmRlclgyNTUxOVNlY3JldEtleSwgcmVjZWl2ZXJFZDI1NTE5UHVibGljS2V5LCBtZXNzYWdlKSB7XG4gIGNvbnN0IHJlY2VpdmVyWDI1NTE5UHVibGljS2V5ID0gY29udmVydEVkMjU1MTlQdWJsaWNLZXlUb1gyNTUxOVB1YmxpY0tleShcbiAgICByZWNlaXZlckVkMjU1MTlQdWJsaWNLZXksXG4gICAgXCJyZWNlaXZlciBwdWJsaWMga2V5XCJcbiAgKTtcbiAgcmV0dXJuIGVuY3J5cHRNZXNzYWdlRGlyZWN0KHNlbmRlclgyNTUxOVNlY3JldEtleSwgcmVjZWl2ZXJYMjU1MTlQdWJsaWNLZXksIG1lc3NhZ2UpO1xufVxuZnVuY3Rpb24gZW5jcnlwdE1lc3NhZ2VEaXJlY3Qoc2VuZGVyWDI1NTE5U2VjcmV0S2V5LCByZWNlaXZlclgyNTUxOVB1YmxpY0tleSwgbWVzc2FnZSkge1xuICBjb25zdCBub25jZSA9IG5hY2wyLnJhbmRvbUJ5dGVzKG5hY2wyLmJveC5ub25jZUxlbmd0aCk7XG4gIGNvbnN0IG1lc3NhZ2VVaW50OCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShtZXNzYWdlKTtcbiAgY29uc3Qgc2VjdXJlZCA9IG5hY2wyLmJveChtZXNzYWdlVWludDgsIG5vbmNlLCByZWNlaXZlclgyNTUxOVB1YmxpY0tleS5rZXksIHNlbmRlclgyNTUxOVNlY3JldEtleS5rZXkuc2xpY2UoMCwgMzIpKTtcbiAgcmV0dXJuIHsgbm9uY2UsIHNlY3VyZWQgfTtcbn1cbmZ1bmN0aW9uIGVuY3J5cHRPYmplY3Qoc2VuZGVyWDI1NTE5U2VjcmV0S2V5LCByZWNlaXZlckVkMjU1MTlQdWJsaWNLZXksIG1lc3NhZ2UpIHtcbiAgY29uc3QgcmVjZWl2ZXJYMjU1MTlQdWJsaWNLZXkgPSBjb252ZXJ0RWQyNTUxOVB1YmxpY0tleVRvWDI1NTE5UHVibGljS2V5KFxuICAgIHJlY2VpdmVyRWQyNTUxOVB1YmxpY0tleSxcbiAgICBcInJlY2VpdmVyIHB1YmxpYyBrZXlcIlxuICApO1xuICByZXR1cm4gZW5jcnlwdE9iamVjdERpcmVjdChzZW5kZXJYMjU1MTlTZWNyZXRLZXksIHJlY2VpdmVyWDI1NTE5UHVibGljS2V5LCBtZXNzYWdlKTtcbn1cbmZ1bmN0aW9uIGVuY3J5cHRPYmplY3REaXJlY3Qoc2VuZGVyWDI1NTE5U2VjcmV0S2V5LCByZWNlaXZlclgyNTUxOVB1YmxpY0tleSwgbWVzc2FnZSkge1xuICByZXR1cm4gZW5jcnlwdE1lc3NhZ2VEaXJlY3Qoc2VuZGVyWDI1NTE5U2VjcmV0S2V5LCByZWNlaXZlclgyNTUxOVB1YmxpY0tleSwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xufVxuZnVuY3Rpb24gZGVjcnlwdE1lc3NhZ2Uoc2VuZGVyWDI1NTE5UHVibGljS2V5LCByZWNlaXZlckVkMjU1MTlTZWNyZXRLZXksIHNlY3VyZWRNZXNzYWdlLCBub25jZSkge1xuICBjb25zdCByZWNlaXZlclgyNTUxOVNlY3JldEtleSA9IGNvbnZlcnRFZDI1NTE5U2VjcmV0S2V5VG9YMjU1MTlTZWNyZXRLZXkocmVjZWl2ZXJFZDI1NTE5U2VjcmV0S2V5KTtcbiAgcmV0dXJuIGRlY3J5cHRNZXNzYWdlRGlyZWN0KHNlbmRlclgyNTUxOVB1YmxpY0tleSwgcmVjZWl2ZXJYMjU1MTlTZWNyZXRLZXksIHNlY3VyZWRNZXNzYWdlLCBub25jZSk7XG59XG5mdW5jdGlvbiBkZWNyeXB0TWVzc2FnZURpcmVjdChzZW5kZXJYMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyWDI1NTE5U2VjcmV0S2V5LCBzZWN1cmVkTWVzc2FnZSwgbm9uY2UpIHtcbiAgbGV0IGRlY3J5cHRlZFVpbnQ4O1xuICB0cnkge1xuICAgIGRlY3J5cHRlZFVpbnQ4ID0gbmFjbDIuYm94Lm9wZW4oXG4gICAgICBzZWN1cmVkTWVzc2FnZSxcbiAgICAgIG5vbmNlLFxuICAgICAgc2VuZGVyWDI1NTE5UHVibGljS2V5LmtleS5zbGljZSgwLCAzMiksXG4gICAgICByZWNlaXZlclgyNTUxOVNlY3JldEtleS5rZXkuc2xpY2UoMCwgMzIpXG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBEZWNyeXB0aW9uRXJyb3IoYENvdWxkIG5vdCBkZWNyeXB0IG1lc3NhZ2U6ICR7ZS5tZXNzYWdlfWApO1xuICB9XG4gIGlmICghZGVjcnlwdGVkVWludDgpXG4gICAgdGhyb3cgbmV3IERlY3J5cHRpb25FcnJvcihcIkNvdWxkIG5vdCBkZWNyeXB0IG1lc3NhZ2VcIik7XG4gIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZGVjcnlwdGVkVWludDgpO1xufVxuZnVuY3Rpb24gZGVjcnlwdE9iamVjdChzZW5kZXJYMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyRWQyNTUxOVNlY3JldEtleSwgc2VjdXJlZE1lc3NhZ2UsIG5vbmNlKSB7XG4gIGNvbnN0IHJlY2VpdmVyWDI1NTE5U2VjcmV0S2V5ID0gY29udmVydEVkMjU1MTlTZWNyZXRLZXlUb1gyNTUxOVNlY3JldEtleShyZWNlaXZlckVkMjU1MTlTZWNyZXRLZXkpO1xuICByZXR1cm4gZGVjcnlwdE9iamVjdERpcmVjdChzZW5kZXJYMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyWDI1NTE5U2VjcmV0S2V5LCBzZWN1cmVkTWVzc2FnZSwgbm9uY2UpO1xufVxuZnVuY3Rpb24gZGVjcnlwdE9iamVjdERpcmVjdChzZW5kZXJYMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyWDI1NTE5U2VjcmV0S2V5LCBzZWN1cmVkTWVzc2FnZSwgbm9uY2UpIHtcbiAgY29uc3QgZGVjcnlwdGVkU3RyID0gZGVjcnlwdE1lc3NhZ2VEaXJlY3Qoc2VuZGVyWDI1NTE5UHVibGljS2V5LCByZWNlaXZlclgyNTUxOVNlY3JldEtleSwgc2VjdXJlZE1lc3NhZ2UsIG5vbmNlKTtcbiAgcmV0dXJuIEpTT04ucGFyc2UoZGVjcnlwdGVkU3RyKTtcbn1cbmZ1bmN0aW9uIG1lc3NhZ2VIYXNoKG1lc3NhZ2UsIHB1cnBvc2UpIHtcbiAgY29uc3Qgc2lnbmF0dXJlUHJlZml4SGFzaCA9IG5ldyBVaW50OEFycmF5KHNoYTNfMjU2KGAke1NJR05BVFVSRV9QUkVGSVh9Ojoke3B1cnBvc2V9OjpgKSk7XG4gIHJldHVybiBuZXcgVWludDhBcnJheShzaGEzXzI1Nihjb25jYXRVaW50OGFycmF5KHNpZ25hdHVyZVByZWZpeEhhc2gsIG1lc3NhZ2UpKSk7XG59XG5mdW5jdGlvbiBzaWduV2l0aEVkMjU1MTlTZWNyZXRLZXkobWVzc2FnZSwgc2lnbmluZ0VkMjU1MTlTZWNyZXRLZXksIHB1cnBvc2UpIHtcbiAgcmV0dXJuIG5hY2wyLnNpZ24uZGV0YWNoZWQobWVzc2FnZUhhc2gobWVzc2FnZSwgcHVycG9zZSksIHNpZ25pbmdFZDI1NTE5U2VjcmV0S2V5LmtleSk7XG59XG5mdW5jdGlvbiBtYWtlRWQyNTUxOVNlY3JldEtleVNpZ25DYWxsYmFja05vRG9tYWluU2VwYXJhdGlvbihzaWduaW5nRWQyNTUxOVNlY3JldEtleSkge1xuICByZXR1cm4gYXN5bmMgKG1lc3NhZ2UpID0+IG5ldyBFZDI1NTE5U2lnbmF0dXJlKG5hY2wyLnNpZ24uZGV0YWNoZWQobWVzc2FnZSwgc2lnbmluZ0VkMjU1MTlTZWNyZXRLZXkua2V5KSk7XG59XG5mdW5jdGlvbiB2ZXJpZnlTaWduYXR1cmUobWVzc2FnZSwgc2lnbmF0dXJlLCBzaWduaW5nUHVibGljS2V5LCBwdXJwb3NlKSB7XG4gIHJldHVybiBzaWduaW5nUHVibGljS2V5LnZlcmlmeVNpZ25hdHVyZSh7IG1lc3NhZ2U6IG1lc3NhZ2VIYXNoKG1lc3NhZ2UsIHB1cnBvc2UpLCBzaWduYXR1cmUgfSk7XG59XG5mdW5jdGlvbiBoYXNoQW5kVmVyaWZ5U2lnbmF0dXJlKG1lc3NhZ2UsIHNpZ25hdHVyZSwgc2lnbmluZ1B1YmxpY0tleSwgcHVycG9zZSkge1xuICBjb25zdCBtZXNzYWdlVWludDggPSBtZXNzYWdlIGluc3RhbmNlb2YgVWludDhBcnJheSA/IG1lc3NhZ2UgOiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobWVzc2FnZSk7XG4gIGNvbnN0IG1lc3NhZ2VVaW50OEhhc2ggPSBzaGEzXzI1NihtZXNzYWdlVWludDgpO1xuICByZXR1cm4gdmVyaWZ5U2lnbmF0dXJlKG1lc3NhZ2VVaW50OEhhc2gsIHNpZ25hdHVyZSwgc2lnbmluZ1B1YmxpY0tleSwgcHVycG9zZSk7XG59XG5cbi8vIHNyYy9zZWN1cmVkRW52ZWxvcGUudHNcbmltcG9ydCB7IEVkMjU1MTlQdWJsaWNLZXkgYXMgQXB0b3NFZDI1NTE5UHVibGljS2V5LCBFZDI1NTE5U2lnbmF0dXJlIGFzIEVkMjU1MTlTaWduYXR1cmUyLCBIZXggfSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG5pbXBvcnQgeyBzaGEzXzI1NiBhcyBzaGEzXzI1NjIgfSBmcm9tIFwiQG5vYmxlL2hhc2hlcy9zaGEzXCI7XG52YXIgUkVRVUlSRURfRklFTERTID0gW1xuICBcInJlY2VpdmVyRWQyNTUxOVB1YmxpY0tleUI2NFwiLFxuICBcInNlbmRlckVkMjU1MTlQdWJsaWNLZXlCNjRcIixcbiAgXCJzZW5kZXJYMjU1MTlQdWJsaWNLZXlCNjRcIixcbiAgXCJzZXF1ZW5jZVwiLFxuICBcInRpbWVzdGFtcE1pbGxpc1wiXG5dLnNvcnQoKTtcbmZ1bmN0aW9uIGVuc3VyZVByaXZhdGVQdWJsaWNGaWVsZHNEaXNqb2ludChwcml2YXRlTWVzc2FnZSwgcHVibGljTWVzc2FnZSkge1xuICBjb25zdCBpbnRlcnNlY3Rpb24gPSBPYmplY3Qua2V5cyhwcml2YXRlTWVzc2FnZSkuZmlsdGVyKCh4KSA9PiBPYmplY3Qua2V5cyhwdWJsaWNNZXNzYWdlKS5pbmNsdWRlcyh4KSk7XG4gIGlmIChpbnRlcnNlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpZWxkID0gaW50ZXJzZWN0aW9uWzBdO1xuICAgIHRocm93IG5ldyBFbnZlbG9wZU1lc3NhZ2VNaXNtYXRjaEVycm9yKGBGaWVsZCAke2ZpZWxkfSBhcHBlYXJzIGluIGJvdGggcHJpdmF0ZSBhbmQgcHVibGljIG1lc3NhZ2UgZmllbGRzYCwgZmllbGQpO1xuICB9XG59XG5mdW5jdGlvbiBlbnN1cmVNZXRhZGF0YUZpZWxkcyhtZXNzYWdlKSB7XG4gIGNvbnN0IG1lc3NhZ2VLZXlzID0gT2JqZWN0LmtleXMobWVzc2FnZSkuc29ydCgpO1xuICBjb25zdCBleHRyYUZpZWxkcyA9IG1lc3NhZ2VLZXlzLmZpbHRlcigoa2V5KSA9PiAhUkVRVUlSRURfRklFTERTLmluY2x1ZGVzKGtleSkpO1xuICBjb25zdCBtaXNzaW5nRmllbGRzID0gUkVRVUlSRURfRklFTERTLmZpbHRlcigoa2V5KSA9PiAhbWVzc2FnZUtleXMuaW5jbHVkZXMoa2V5KSk7XG4gIGlmIChleHRyYUZpZWxkcy5sZW5ndGggPiAwIHx8IG1pc3NpbmdGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgIGxldCBleHRyYUZpZWxkc1N0ciA9IGV4dHJhRmllbGRzLmxlbmd0aCA+IDAgPyBgZXh0cmEoJHtleHRyYUZpZWxkcy5qb2luKFwiLCBcIil9KWAgOiBcIlwiO1xuICAgIGNvbnN0IG1pc3NpbmdGaWVsZHNTdHIgPSBtaXNzaW5nRmllbGRzLmxlbmd0aCA+IDAgPyBgbWlzc2luZygke21pc3NpbmdGaWVsZHMuam9pbihcIiwgXCIpfSlgIDogXCJcIjtcbiAgICBleHRyYUZpZWxkc1N0ciA9IGV4dHJhRmllbGRzU3RyLmxlbmd0aCA+IDAgJiYgbWlzc2luZ0ZpZWxkc1N0ci5sZW5ndGggPiAwID8gYCR7ZXh0cmFGaWVsZHNTdHJ9LCBgIDogZXh0cmFGaWVsZHNTdHI7XG4gICAgdGhyb3cgbmV3IEVudmVsb3BlTWVzc2FnZU1pc21hdGNoRXJyb3IoXG4gICAgICBgUHVibGljTWVzc2FnZSBtZXRhZGF0YSBmaWVsZHMgZG8gbm90IGNvbmZvcm0gdG8gc3BlYzogJHtleHRyYUZpZWxkc1N0cn0ke21pc3NpbmdGaWVsZHNTdHJ9YCxcbiAgICAgIFwiX21ldGFkYXRhXCJcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVRyYW5zcG9ydEVudmVsb3BlKHRyYW5zcG9ydEVudmVsb3BlKSB7XG4gIGNvbnN0IHB1YmxpY01lc3NhZ2UgPSBKU09OLnBhcnNlKHRyYW5zcG9ydEVudmVsb3BlLnNlcmlhbGl6ZWRQdWJsaWNNZXNzYWdlKTtcbiAgcmV0dXJuIHtcbiAgICAuLi50cmFuc3BvcnRFbnZlbG9wZSxcbiAgICBwdWJsaWNNZXNzYWdlXG4gIH07XG59XG5mdW5jdGlvbiBlbmNyeXB0QW5kU2lnbkVudmVsb3BlKHNlbmRlckVkMjU1MTlTZWNyZXRLZXksIHNlbmRlckVkMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyRWQyNTUxOVB1YmxpY0tleSwgc2VxdWVuY2UsIHB1YmxpY01lc3NhZ2UsIHByaXZhdGVNZXNzYWdlKSB7XG4gIGNvbnN0IHNlbmRlckVwaGVtZXJhbFgyNTUxOUtleVBhaXIgPSBjcmVhdGVYMjU1MTlLZXlQYWlyKCk7XG4gIGNvbnN0IG1ldGFkYXRhID0gY29uc3RydWN0TWV0YWRhdGEoXG4gICAgc2VuZGVyRWQyNTUxOVB1YmxpY0tleSxcbiAgICByZWNlaXZlckVkMjU1MTlQdWJsaWNLZXksXG4gICAgc2VxdWVuY2UsXG4gICAgc2VuZGVyRXBoZW1lcmFsWDI1NTE5S2V5UGFpci5wdWJsaWNLZXlcbiAgKTtcbiAgZW5zdXJlTWV0YWRhdGFGaWVsZHMobWV0YWRhdGEpO1xuICBlbnN1cmVQcml2YXRlUHVibGljRmllbGRzRGlzam9pbnQocHJpdmF0ZU1lc3NhZ2UsIHB1YmxpY01lc3NhZ2UpO1xuICByZXR1cm4gZGFuZ2Vyb3VzbHlFbmNyeXB0QW5kU2lnbkVudmVsb3BlVW52YWxpZGF0ZWQoXG4gICAgc2VuZGVyRWQyNTUxOVNlY3JldEtleSxcbiAgICByZWNlaXZlckVkMjU1MTlQdWJsaWNLZXksXG4gICAgbWV0YWRhdGEsXG4gICAgcHJpdmF0ZU1lc3NhZ2UsXG4gICAgcHVibGljTWVzc2FnZSxcbiAgICBzZW5kZXJFcGhlbWVyYWxYMjU1MTlLZXlQYWlyXG4gICk7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3RNZXRhZGF0YShzZW5kZXJFZDI1NTE5UHVibGljS2V5LCByZWNlaXZlckVkMjU1MTlQdWJsaWNLZXksIHNlcXVlbmNlLCBzZW5kZXJFcGhlbWVyYWxYMjU1MTlQdWJsaWNLZXkpIHtcbiAgcmV0dXJuIHtcbiAgICByZWNlaXZlckVkMjU1MTlQdWJsaWNLZXlCNjQ6IGVuY29kZUJhc2U2NChyZWNlaXZlckVkMjU1MTlQdWJsaWNLZXkua2V5KSxcbiAgICBzZW5kZXJFZDI1NTE5UHVibGljS2V5QjY0OiBlbmNvZGVCYXNlNjQoc2VuZGVyRWQyNTUxOVB1YmxpY0tleS5rZXkpLFxuICAgIHNlbmRlclgyNTUxOVB1YmxpY0tleUI2NDogZW5jb2RlQmFzZTY0KHNlbmRlckVwaGVtZXJhbFgyNTUxOVB1YmxpY0tleS5rZXkpLFxuICAgIHNlcXVlbmNlLFxuICAgIHRpbWVzdGFtcE1pbGxpczogRGF0ZS5ub3coKVxuICB9O1xufVxuZnVuY3Rpb24gZGFuZ2Vyb3VzbHlFbmNyeXB0QW5kU2lnbkVudmVsb3BlVW52YWxpZGF0ZWQoc2VuZGVyRWQyNTUxOVNlY3JldEtleSwgcmVjZWl2ZXJFZDI1NTE5UHVibGljS2V5LCBtZXRhZGF0YSwgcHJpdmF0ZU1lc3NhZ2UsIHB1YmxpY01lc3NhZ2UsIHNlbmRlckVwaGVtZXJhbFgyNTUxOUtleVBhaXIpIHtcbiAgY29uc3QgZW5jcnlwdGlvblJlc3VsdCA9IGVuY3J5cHRPYmplY3QoXG4gICAgc2VuZGVyRXBoZW1lcmFsWDI1NTE5S2V5UGFpci5zZWNyZXRLZXksXG4gICAgcmVjZWl2ZXJFZDI1NTE5UHVibGljS2V5LFxuICAgIHByaXZhdGVNZXNzYWdlXG4gICk7XG4gIGNvbnN0IGVuY3J5cHRlZFByaXZhdGVNZXNzYWdlID0gc2VyaWFsaXplRW5jcnlwdGlvblJlc3VsdChlbmNyeXB0aW9uUmVzdWx0KTtcbiAgY29uc3QgZW5jcnlwdGVkUHJpdmF0ZU1lc3NhZ2VCeXRlcyA9IGRlY29kZUJhc2U2NChlbmNyeXB0ZWRQcml2YXRlTWVzc2FnZS5zZWN1cmVkQjY0KTtcbiAgY29uc3Qgc2VyaWFsaXplZFB1YmxpY01lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeSh7IC4uLnB1YmxpY01lc3NhZ2UsIF9tZXRhZGF0YTogbWV0YWRhdGEgfSk7XG4gIGNvbnN0IHB1YmxpY01lc3NhZ2VCeXRlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZXJpYWxpemVkUHVibGljTWVzc2FnZSk7XG4gIGNvbnN0IG1lc3NhZ2VTaWduYXR1cmUgPSBzaWduRW52ZWxvcGUocHVibGljTWVzc2FnZUJ5dGVzLCBlbmNyeXB0ZWRQcml2YXRlTWVzc2FnZUJ5dGVzLCBzZW5kZXJFZDI1NTE5U2VjcmV0S2V5KTtcbiAgcmV0dXJuIHtcbiAgICBlbmNyeXB0ZWRQcml2YXRlTWVzc2FnZSxcbiAgICBtZXNzYWdlU2lnbmF0dXJlLFxuICAgIHNlcmlhbGl6ZWRQdWJsaWNNZXNzYWdlXG4gIH07XG59XG5mdW5jdGlvbiBjb21iaW5lSGFzaGVkRW52ZWxvcGVNZXNzYWdlQnl0ZXMocHVibGljTWVzc2FnZUJ5dGVzLCBwcml2YXRlTWVzc2FnZUJ5dGVzKSB7XG4gIGNvbnN0IHB1YmxpY01lc3NhZ2VCeXRlc0hhc2ggPSBzaGEzXzI1NjIocHVibGljTWVzc2FnZUJ5dGVzKTtcbiAgY29uc3QgcHJpdmF0ZU1lc3NhZ2VCeXRlc0hhc2ggPSBzaGEzXzI1NjIocHJpdmF0ZU1lc3NhZ2VCeXRlcyk7XG4gIGNvbnN0IGNvbWJpbmVkSGFzaCA9IG5ldyBVaW50OEFycmF5KHB1YmxpY01lc3NhZ2VCeXRlc0hhc2gubGVuZ3RoICsgcHJpdmF0ZU1lc3NhZ2VCeXRlc0hhc2gubGVuZ3RoKTtcbiAgY29tYmluZWRIYXNoLnNldChwdWJsaWNNZXNzYWdlQnl0ZXNIYXNoKTtcbiAgY29tYmluZWRIYXNoLnNldChwcml2YXRlTWVzc2FnZUJ5dGVzSGFzaCwgcHVibGljTWVzc2FnZUJ5dGVzSGFzaC5sZW5ndGgpO1xuICByZXR1cm4gc2hhM18yNTYyKGNvbWJpbmVkSGFzaCk7XG59XG5mdW5jdGlvbiBzaWduRW52ZWxvcGUocHVibGljTWVzc2FnZUJ5dGVzLCBwcml2YXRlTWVzc2FnZUJ5dGVzLCBzZW5kZXJFZDI1NTE5U2VjcmV0S2V5KSB7XG4gIGNvbnN0IG1lc3NhZ2VIYXNoQnl0ZXMgPSBjb21iaW5lSGFzaGVkRW52ZWxvcGVNZXNzYWdlQnl0ZXMocHVibGljTWVzc2FnZUJ5dGVzLCBwcml2YXRlTWVzc2FnZUJ5dGVzKTtcbiAgY29uc3Qgc2lnbmF0dXJlQnl0ZXMgPSBzaWduV2l0aEVkMjU1MTlTZWNyZXRLZXkobWVzc2FnZUhhc2hCeXRlcywgc2VuZGVyRWQyNTUxOVNlY3JldEtleSwgXCJTRUNVUkVEX0VOVkVMT1BFXCIpO1xuICByZXR1cm4gSGV4LmZyb21IZXhJbnB1dChzaWduYXR1cmVCeXRlcykudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIHZlcmlmeUVudmVsb3BlU2lnbmF0dXJlKHB1YmxpY01lc3NhZ2VCeXRlcywgcHJpdmF0ZU1lc3NhZ2VCeXRlcywgbWVzc2FnZVNpZ25hdHVyZUlucHV0LCBzZW5kZXJFZDI1NTE5UHVibGljS2V5KSB7XG4gIGNvbnN0IG1lc3NhZ2VTaWduYXR1cmUgPSBuZXcgRWQyNTUxOVNpZ25hdHVyZTIoSGV4LmZyb21IZXhJbnB1dChtZXNzYWdlU2lnbmF0dXJlSW5wdXQpLnRvVWludDhBcnJheSgpKTtcbiAgY29uc3Qgc2VuZGVyUHVibGljS2V5ID0gbmV3IEFwdG9zRWQyNTUxOVB1YmxpY0tleShzZW5kZXJFZDI1NTE5UHVibGljS2V5LmtleSk7XG4gIGNvbnN0IG1lc3NhZ2VIYXNoQnl0ZXMgPSBjb21iaW5lSGFzaGVkRW52ZWxvcGVNZXNzYWdlQnl0ZXMocHVibGljTWVzc2FnZUJ5dGVzLCBwcml2YXRlTWVzc2FnZUJ5dGVzKTtcbiAgY29uc3QgbWVzc2FnZVZlcmlmaWVkID0gdmVyaWZ5U2lnbmF0dXJlKG1lc3NhZ2VIYXNoQnl0ZXMsIG1lc3NhZ2VTaWduYXR1cmUsIHNlbmRlclB1YmxpY0tleSwgXCJTRUNVUkVEX0VOVkVMT1BFXCIpO1xuICBpZiAoIW1lc3NhZ2VWZXJpZmllZCkge1xuICAgIHRocm93IG5ldyBFbnZlbG9wZU1lc3NhZ2VNaXNtYXRjaEVycm9yKFwiQ291bGQgbm90IHZlcmlmeSBTZWN1cmVkRW52ZWxvcGUgc2lnbmF0dXJlXCIsIFwibWVzc2FnZVNpZ25hdHVyZVwiKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVjcnlwdEVudmVsb3BlKHNlbmRlckVkMjU1MTlQdWJsaWNLZXksIHJlY2VpdmVyRWQyNTUxOVNlY3JldEtleSwgbWVzc2FnZSkge1xuICBjb25zdCB7IGVuY3J5cHRlZFByaXZhdGVNZXNzYWdlLCBtZXNzYWdlU2lnbmF0dXJlLCBzZXJpYWxpemVkUHVibGljTWVzc2FnZSB9ID0gbWVzc2FnZTtcbiAgY29uc3QgcHVibGljTWVzc2FnZSA9IEpTT04ucGFyc2Uoc2VyaWFsaXplZFB1YmxpY01lc3NhZ2UpO1xuICBjb25zdCByYXdQcml2YXRlTWVzc2FnZSA9IGRlY29kZUJhc2U2NChlbmNyeXB0ZWRQcml2YXRlTWVzc2FnZS5zZWN1cmVkQjY0KTtcbiAgY29uc3QgcmF3UHVibGljTWVzc2FnZSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzZXJpYWxpemVkUHVibGljTWVzc2FnZSk7XG4gIHZlcmlmeUVudmVsb3BlU2lnbmF0dXJlKHJhd1B1YmxpY01lc3NhZ2UsIHJhd1ByaXZhdGVNZXNzYWdlLCBtZXNzYWdlU2lnbmF0dXJlLCBzZW5kZXJFZDI1NTE5UHVibGljS2V5KTtcbiAgY29uc3Qgc2VuZGVyRWQyNTUxOVB1YmxpY0tleUI2NCA9IGVuY29kZUJhc2U2NChzZW5kZXJFZDI1NTE5UHVibGljS2V5LmtleSk7XG4gIGNvbnN0IGV4cGVjdGVkUHVibGljS2V5QjY0ID0gcHVibGljTWVzc2FnZS5fbWV0YWRhdGEuc2VuZGVyRWQyNTUxOVB1YmxpY0tleUI2NDtcbiAgaWYgKHNlbmRlckVkMjU1MTlQdWJsaWNLZXlCNjQgIT09IGV4cGVjdGVkUHVibGljS2V5QjY0KSB7XG4gICAgdGhyb3cgbmV3IEVudmVsb3BlTWVzc2FnZU1pc21hdGNoRXJyb3IoXG4gICAgICBcInNlbmRlckVkMjU1MTlQdWJsaWNLZXkgaW4gZW52ZWxvcGUgZG9lcyBub3QgbWF0Y2ggcHJvdmlkZWQgcmVjZWl2ZXJFZDI1NTE5U2VjcmV0S2V5XCIsXG4gICAgICBcInNlbmRlclB1YmxpY0tleVwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBzZW5kZXJYMjU1MTlQdWJsaWNLZXlCeXRlcyA9IGRlY29kZUJhc2U2NChwdWJsaWNNZXNzYWdlLl9tZXRhZGF0YS5zZW5kZXJYMjU1MTlQdWJsaWNLZXlCNjQpO1xuICBjb25zdCBzZW5kZXJYMjU1MTlQdWJsaWNLZXkgPSB0b0tleShzZW5kZXJYMjU1MTlQdWJsaWNLZXlCeXRlcywgXCJYMjU1MTlQdWJsaWNLZXlcIiAvKiBYMjU1MTlQdWJsaWNLZXkgKi8pO1xuICBjb25zdCBlbmNyeXB0aW9uUmVzdWx0ID0gZGVzZXJpYWxpemVFbmNyeXB0aW9uUmVzdWx0KGVuY3J5cHRlZFByaXZhdGVNZXNzYWdlKTtcbiAgY29uc3QgcHJpdmF0ZU1lc3NhZ2UgPSBkZWNyeXB0T2JqZWN0KFxuICAgIHNlbmRlclgyNTUxOVB1YmxpY0tleSxcbiAgICByZWNlaXZlckVkMjU1MTlTZWNyZXRLZXksXG4gICAgZW5jcnlwdGlvblJlc3VsdC5zZWN1cmVkLFxuICAgIGVuY3J5cHRpb25SZXN1bHQubm9uY2VcbiAgKTtcbiAgZW5zdXJlTWV0YWRhdGFGaWVsZHMocHVibGljTWVzc2FnZS5fbWV0YWRhdGEpO1xuICBlbnN1cmVQcml2YXRlUHVibGljRmllbGRzRGlzam9pbnQocHJpdmF0ZU1lc3NhZ2UsIHB1YmxpY01lc3NhZ2UpO1xuICByZXR1cm4ge1xuICAgIG1lc3NhZ2VTaWduYXR1cmUsXG4gICAgcHJpdmF0ZU1lc3NhZ2UsXG4gICAgcHVibGljTWVzc2FnZVxuICB9O1xufVxuXG4vLyBzcmMvc2VyaWFsaXphdGlvbi50c1xuaW1wb3J0IHtcbiAgYmFzZTY0VG9CeXRlcyxcbiAgYnl0ZXNUb0Jhc2U2NCxcbiAgZGVzZXJpYWxpemVQdWJsaWNLZXksXG4gIGRlc2VyaWFsaXplU2lnbmF0dXJlLFxuICBzZXJpYWxpemVQdWJsaWNLZXksXG4gIHNlcmlhbGl6ZVNpZ25hdHVyZVxufSBmcm9tIFwiQGFwdG9zLWNvbm5lY3Qvd2FsbGV0LWFwaVwiO1xuaW1wb3J0IHtcbiAgRGVzZXJpYWxpemVyLFxuICBFZDI1NTE5UHVibGljS2V5IGFzIEFwdG9zRWQyNTUxOVB1YmxpY0tleTIsXG4gIEVkMjU1MTlTaWduYXR1cmUgYXMgRWQyNTUxOVNpZ25hdHVyZTMsXG4gIEhleCBhcyBIZXgyLFxuICBTZXJpYWxpemVyXG59IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmZ1bmN0aW9uIHNlcmlhbGl6ZVB1YmxpY0tleUI2NChwdWJsaWNLZXkpIHtcbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBTZXJpYWxpemVyKCk7XG4gIHNlcmlhbGl6ZVB1YmxpY0tleShzZXJpYWxpemVyLCBwdWJsaWNLZXkpO1xuICByZXR1cm4gYnl0ZXNUb0Jhc2U2NChzZXJpYWxpemVyLnRvVWludDhBcnJheSgpKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplUHVibGljS2V5QjY0KHB1YmxpY0tleUI2NCkge1xuICBjb25zdCBzZXJpYWxpemVkUHVibGljS2V5ID0gYmFzZTY0VG9CeXRlcyhwdWJsaWNLZXlCNjQpO1xuICBjb25zdCBkZXNlcmlhbGl6ZXIgPSBuZXcgRGVzZXJpYWxpemVyKHNlcmlhbGl6ZWRQdWJsaWNLZXkpO1xuICByZXR1cm4gZGVzZXJpYWxpemVQdWJsaWNLZXkoZGVzZXJpYWxpemVyKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplRWQyNTUxOVB1YmxpY0tleUI2NChlZDI1NTE5UHVibGljS2V5QjY0KSB7XG4gIHJldHVybiBuZXcgQXB0b3NFZDI1NTE5UHVibGljS2V5MihkZWNvZGVCYXNlNjQoZWQyNTUxOVB1YmxpY0tleUI2NCkpO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplU2lnbmF0dXJlQjY0KHNpZ25hdHVyZSkge1xuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFNlcmlhbGl6ZXIoKTtcbiAgc2VyaWFsaXplU2lnbmF0dXJlKHNlcmlhbGl6ZXIsIHNpZ25hdHVyZSk7XG4gIHJldHVybiBieXRlc1RvQmFzZTY0KHNlcmlhbGl6ZXIudG9VaW50OEFycmF5KCkpO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVTaWduYXR1cmVCNjQoc2lnbmF0dXJlQjY0KSB7XG4gIGNvbnN0IHNlcmlhbGl6ZWRTaWduYXR1cmUgPSBiYXNlNjRUb0J5dGVzKHNpZ25hdHVyZUI2NCk7XG4gIGNvbnN0IGRlc2VyaWFsaXplciA9IG5ldyBEZXNlcmlhbGl6ZXIoc2VyaWFsaXplZFNpZ25hdHVyZSk7XG4gIHJldHVybiBkZXNlcmlhbGl6ZVNpZ25hdHVyZShkZXNlcmlhbGl6ZXIpO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVFZDI1NTE5U2lnbmF0dXJlQjY0KGVkMjU1MTlTaWduYXR1cmVCNjQpIHtcbiAgY29uc3Qgc2lnbmF0dXJlQnl0ZXMgPSBIZXgyLmZyb21IZXhJbnB1dChlZDI1NTE5U2lnbmF0dXJlQjY0KS50b1VpbnQ4QXJyYXkoKTtcbiAgcmV0dXJuIG5ldyBFZDI1NTE5U2lnbmF0dXJlMyhzaWduYXR1cmVCeXRlcyk7XG59XG5mdW5jdGlvbiBwdWJsaWNLZXlCNjRGcm9tRWQyNTUxOVB1YmxpY0tleUI2NChlZDI1NTE5UHVibGljS2V5QjY0KSB7XG4gIGNvbnN0IHB1YmxpY0tleSA9IGRlc2VyaWFsaXplRWQyNTUxOVB1YmxpY0tleUI2NChlZDI1NTE5UHVibGljS2V5QjY0KTtcbiAgcmV0dXJuIHNlcmlhbGl6ZVB1YmxpY0tleUI2NChwdWJsaWNLZXkpO1xufVxuXG4vLyBzcmMvd2FsbGV0QWNjb3VudHMudHNcbmltcG9ydCB7IFB1YmxpY0tleSBhcyBBcHRvc1B1YmxpY0tleSB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmltcG9ydCB7IHNoYTNfMjU2IGFzIHNoYTNfMjU2MyB9IGZyb20gXCJAbm9ibGUvaGFzaGVzL3NoYTNcIjtcbnZhciBBY2NvdW50Q29ubmVjdGlvbkFjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyAoKEFjY291bnRDb25uZWN0aW9uQWN0aW9uMikgPT4ge1xuICBBY2NvdW50Q29ubmVjdGlvbkFjdGlvbjJbXCJBRERcIl0gPSBcImFkZFwiO1xuICBBY2NvdW50Q29ubmVjdGlvbkFjdGlvbjJbXCJSRU1PVkVcIl0gPSBcInJlbW92ZVwiO1xuICByZXR1cm4gQWNjb3VudENvbm5lY3Rpb25BY3Rpb24yO1xufSkoQWNjb3VudENvbm5lY3Rpb25BY3Rpb24gfHwge30pO1xuZnVuY3Rpb24gZGVyaXZlQWNjb3VudFRyYW5zcG9ydEVkMjU1MTlLZXlwYWlyKGVkMjU1MTlTZWNyZXRLZXlPclNpZ25DYWxsYmFjaywgcHVibGljS2V5KSB7XG4gIGNvbnN0IHB1YmxpY0tleUJ5dGVzID0gcHVibGljS2V5IGluc3RhbmNlb2YgQXB0b3NQdWJsaWNLZXkgPyBwdWJsaWNLZXkudG9VaW50OEFycmF5KCkgOiBwdWJsaWNLZXkua2V5O1xuICBpZiAoZWQyNTUxOVNlY3JldEtleU9yU2lnbkNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjb25zdCBzZWVkR2VuZXJhdG9yQnl0ZXMgPSBtZXNzYWdlSGFzaChwdWJsaWNLZXlCeXRlcywgXCJUUkFOU1BPUlRfS0VZUEFJUlwiKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBlZDI1NTE5U2VjcmV0S2V5T3JTaWduQ2FsbGJhY2soc2VlZEdlbmVyYXRvckJ5dGVzKTtcbiAgICBpZiAoc2lnbmF0dXJlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHNpZ25hdHVyZS50aGVuKCh2YWx1ZSkgPT4gZWQyNTUxOUtleXBhaXJGcm9tU2VjcmV0KHZhbHVlLnRvVWludDhBcnJheSgpKSk7XG4gICAgfVxuICAgIHJldHVybiBlZDI1NTE5S2V5cGFpckZyb21TZWNyZXQoc2lnbmF0dXJlLnRvVWludDhBcnJheSgpKTtcbiAgfVxuICBjb25zdCBzZWVkQnl0ZXMgPSBzaWduV2l0aEVkMjU1MTlTZWNyZXRLZXkocHVibGljS2V5Qnl0ZXMsIGVkMjU1MTlTZWNyZXRLZXlPclNpZ25DYWxsYmFjaywgXCJUUkFOU1BPUlRfS0VZUEFJUlwiKTtcbiAgcmV0dXJuIGVkMjU1MTlLZXlwYWlyRnJvbVNlY3JldChzZWVkQnl0ZXMpO1xufVxuZnVuY3Rpb24gY3JlYXRlU2VyaWFsaXplZEFjY291bnRJbmZvKC4uLltcbiAgc2lnbkNhbGxiYWNrLFxuICBwdWJsaWNLZXksXG4gIHRyYW5zcG9ydEVkMjU1MTlQdWJsaWNLZXksXG4gIGFjdGlvbixcbiAgaW50ZW50SWQsXG4gIGFjY291bnRBZGRyZXNzXG5dKSB7XG4gIGNvbnN0IGF1dGhLZXkgPSBwdWJsaWNLZXkuYXV0aEtleSgpO1xuICBjb25zdCBmaW5hbEFjY291bnRBZGRyZXNzID0gYWNjb3VudEFkZHJlc3MgfHwgYXV0aEtleS5kZXJpdmVkQWRkcmVzcygpLnRvU3RyaW5nKCk7XG4gIGNvbnN0IHB1YmxpY0tleUI2NCA9IHNlcmlhbGl6ZVB1YmxpY0tleUI2NChwdWJsaWNLZXkpO1xuICBjb25zdCBhY2NvdW50SW5mbyA9IHtcbiAgICBhY2NvdW50QWRkcmVzczogZmluYWxBY2NvdW50QWRkcmVzcyxcbiAgICBhY3Rpb24sXG4gICAgaW50ZW50SWQsXG4gICAgcHVibGljS2V5QjY0LFxuICAgIHRpbWVzdGFtcE1pbGxpczogRGF0ZS5ub3coKSxcbiAgICB0cmFuc3BvcnRFZDI1NTE5UHVibGljS2V5QjY0OiBlbmNvZGVCYXNlNjQodHJhbnNwb3J0RWQyNTUxOVB1YmxpY0tleS5rZXkpXG4gIH07XG4gIGNvbnN0IGFjY291bnRJbmZvU2VyaWFsaXplZCA9IEpTT04uc3RyaW5naWZ5KGFjY291bnRJbmZvKTtcbiAgY29uc3QgYWNjb3VudEluZm9CeXRlcyA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShhY2NvdW50SW5mb1NlcmlhbGl6ZWQpO1xuICBjb25zdCBhY2NvdW50SW5mb0hhc2ggPSBzaGEzXzI1NjMoYWNjb3VudEluZm9CeXRlcyk7XG4gIGNvbnN0IHNpZ25hdHVyZSA9IHNpZ25DYWxsYmFjayhtZXNzYWdlSGFzaChhY2NvdW50SW5mb0hhc2gsIFwiQUNDT1VOVF9JTkZPXCIpKTtcbiAgaWYgKHNpZ25hdHVyZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICByZXR1cm4gc2lnbmF0dXJlLnRoZW4oKHZhbHVlKSA9PiAoe1xuICAgICAgYWNjb3VudEluZm9TZXJpYWxpemVkLFxuICAgICAgc2lnbmF0dXJlQjY0OiBzZXJpYWxpemVTaWduYXR1cmVCNjQodmFsdWUpXG4gICAgfSkpO1xuICB9XG4gIHJldHVybiB7XG4gICAgYWNjb3VudEluZm9TZXJpYWxpemVkLFxuICAgIHNpZ25hdHVyZUI2NDogc2VyaWFsaXplU2lnbmF0dXJlQjY0KHNpZ25hdHVyZSlcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFwdG9zQWNjb3VudFRvU2VyaWFsaXplZEluZm8oYWNjb3VudCwgaW50ZW50SWQpIHtcbiAgY29uc3Qgc2lnbkNhbGxiYWNrID0gYXN5bmMgKGRhdGEpID0+IGFjY291bnQuc2lnbihkYXRhKTtcbiAgY29uc3QgdHJhbnNwb3J0S2V5ID0gYXdhaXQgZGVyaXZlQWNjb3VudFRyYW5zcG9ydEVkMjU1MTlLZXlwYWlyKHNpZ25DYWxsYmFjaywgYWNjb3VudC5wdWJsaWNLZXkpO1xuICByZXR1cm4gY3JlYXRlU2VyaWFsaXplZEFjY291bnRJbmZvKFxuICAgIHNpZ25DYWxsYmFjayxcbiAgICBhY2NvdW50LnB1YmxpY0tleSxcbiAgICB0cmFuc3BvcnRLZXkucHVibGljS2V5LFxuICAgIFwiYWRkXCIgLyogQUREICovLFxuICAgIGludGVudElkXG4gICk7XG59XG5leHBvcnQge1xuICBBY2NvdW50Q29ubmVjdGlvbkFjdGlvbixcbiAgRGVjcnlwdGlvbkVycm9yLFxuICBFbmNyeXB0aW9uRW52ZWxvcGVFcnJvcixcbiAgRW52ZWxvcGVNZXNzYWdlTWlzbWF0Y2hFcnJvcixcbiAgS2V5VHlwZXMsXG4gIFJFUVVJUkVEX0ZJRUxEUyxcbiAgU0lHTkFUVVJFX1BSRUZJWCxcbiAgYXB0b3NBY2NvdW50VG9FZDI1NTE5S2V5cGFpcixcbiAgYXB0b3NBY2NvdW50VG9TZXJpYWxpemVkSW5mbyxcbiAgY29uY2F0VWludDhhcnJheSxcbiAgY29uc3RydWN0TWV0YWRhdGEsXG4gIGNvbnZlcnRFZDI1NTE5UHVibGljS2V5VG9YMjU1MTlQdWJsaWNLZXksXG4gIGNvbnZlcnRFZDI1NTE5U2VjcmV0S2V5VG9YMjU1MTlTZWNyZXRLZXksXG4gIGNyZWF0ZUVkMjU1MTlLZXlQYWlyLFxuICBjcmVhdGVTZXJpYWxpemVkQWNjb3VudEluZm8sXG4gIGNyZWF0ZVgyNTUxOUtleVBhaXIsXG4gIGRhbmdlcm91c2x5RW5jcnlwdEFuZFNpZ25FbnZlbG9wZVVudmFsaWRhdGVkLFxuICBkZWNvZGVCYXNlNjQsXG4gIGRlY3J5cHRFbnZlbG9wZSxcbiAgZGVjcnlwdE1lc3NhZ2UsXG4gIGRlY3J5cHRNZXNzYWdlRGlyZWN0LFxuICBkZWNyeXB0T2JqZWN0LFxuICBkZWNyeXB0T2JqZWN0RGlyZWN0LFxuICBkZWNyeXB0U2VyaWFsaXplZEVuY3J5cHRpb25SZXN1bHQsXG4gIGRlY3J5cHRTZXJpYWxpemVkRW5jcnlwdGlvblJlc3VsdERpcmVjdCxcbiAgZGVyaXZlQWNjb3VudFRyYW5zcG9ydEVkMjU1MTlLZXlwYWlyLFxuICBkZXNlcmlhbGl6ZUVkMjU1MTlQdWJsaWNLZXlCNjQsXG4gIGRlc2VyaWFsaXplRWQyNTUxOVNpZ25hdHVyZUI2NCxcbiAgZGVzZXJpYWxpemVFbmNyeXB0aW9uUmVzdWx0LFxuICBkZXNlcmlhbGl6ZVB1YmxpY0tleUI2NCxcbiAgZGVzZXJpYWxpemVTaWduYXR1cmVCNjQsXG4gIGRlc2VyaWFsaXplVHJhbnNwb3J0RW52ZWxvcGUsXG4gIGVkMjU1MTlLZXlwYWlyRnJvbVNlY3JldCxcbiAgZW5jb2RlQmFzZTY0LFxuICBlbmNyeXB0QW5kU2lnbkVudmVsb3BlLFxuICBlbmNyeXB0TWVzc2FnZSxcbiAgZW5jcnlwdE1lc3NhZ2VEaXJlY3QsXG4gIGVuY3J5cHRPYmplY3QsXG4gIGVuY3J5cHRPYmplY3REaXJlY3QsXG4gIGVuc3VyZU1ldGFkYXRhRmllbGRzLFxuICBlbnN1cmVQcml2YXRlUHVibGljRmllbGRzRGlzam9pbnQsXG4gIGhhc2hBbmRWZXJpZnlTaWduYXR1cmUsXG4gIGtleXBhaXJUb0VkMjU1MTksXG4gIGtleXBhaXJUb1gyNTUxOSxcbiAgbWFrZUVkMjU1MTlTZWNyZXRLZXlTaWduQ2FsbGJhY2tOb0RvbWFpblNlcGFyYXRpb24sXG4gIG1lc3NhZ2VIYXNoLFxuICBwdWJsaWNLZXlCNjRGcm9tRWQyNTUxOVB1YmxpY0tleUI2NCxcbiAgc2VyaWFsaXplRW5jcnlwdGlvblJlc3VsdCxcbiAgc2VyaWFsaXplUHVibGljS2V5QjY0LFxuICBzZXJpYWxpemVTaWduYXR1cmVCNjQsXG4gIHNpZ25XaXRoRWQyNTUxOVNlY3JldEtleSxcbiAgdG9LZXksXG4gIHZlcmlmeUVudmVsb3BlU2lnbmF0dXJlLFxuICB2ZXJpZnlTaWduYXR1cmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@identity-connect/crypto/dist/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@identity-connect/wallet-api/dist/index.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@identity-connect/wallet-api/dist/index.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bcsDeserialize: () => (/* binding */ bcsDeserialize),\n/* harmony export */   bcsSerialize: () => (/* binding */ bcsSerialize),\n/* harmony export */   deserializeJsonTransactionPayload: () => (/* binding */ deserializeJsonTransactionPayload),\n/* harmony export */   deserializeRawTransaction: () => (/* binding */ deserializeRawTransaction),\n/* harmony export */   deserializeSignAndSubmitTransactionRequestArgs: () => (/* binding */ deserializeSignAndSubmitTransactionRequestArgs),\n/* harmony export */   deserializeSignTransactionRequestArgs: () => (/* binding */ deserializeSignTransactionRequestArgs),\n/* harmony export */   deserializeSignTransactionResponseArgs: () => (/* binding */ deserializeSignTransactionResponseArgs),\n/* harmony export */   isBcsSerializable: () => (/* binding */ isBcsSerializable),\n/* harmony export */   makeFullMessage: () => (/* binding */ makeFullMessage),\n/* harmony export */   serializeJsonTransactionPayload: () => (/* binding */ serializeJsonTransactionPayload),\n/* harmony export */   serializeRawTransaction: () => (/* binding */ serializeRawTransaction),\n/* harmony export */   serializeSignAndSubmitTransactionRequestArgs: () => (/* binding */ serializeSignAndSubmitTransactionRequestArgs),\n/* harmony export */   serializeSignTransactionRequestArgs: () => (/* binding */ serializeSignTransactionRequestArgs),\n/* harmony export */   serializeSignTransactionResponseArgs: () => (/* binding */ serializeSignTransactionResponseArgs)\n/* harmony export */ });\n/* harmony import */ var _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aptos-labs/ts-sdk */ \"(ssr)/./node_modules/@aptos-labs/ts-sdk/dist/esm/index.mjs\");\n/* harmony import */ var aptos__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aptos */ \"(ssr)/./node_modules/aptos/dist/index.mjs\");\n// src/serialization/bcsSerialization.ts\n\n\nfunction isBcsSerializableV1(value) {\n  return value?.serialize !== void 0;\n}\nfunction isBcsSerializableV2(value) {\n  return value?.serialize !== void 0 && value?.bcsToBytes !== void 0 && value?.bcsToHex !== void 0;\n}\nfunction isBcsSerializable(value) {\n  return isBcsSerializableV1(value) || isBcsSerializableV2(value);\n}\nfunction bcsSerialize(serializable) {\n  if (isBcsSerializableV2(serializable)) {\n    return serializable.bcsToHex().toString();\n  }\n  const serializedValueBytes = aptos__WEBPACK_IMPORTED_MODULE_1__.BCS.bcsToBytes(serializable);\n  return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexInput(serializedValueBytes).toString();\n}\nfunction bcsDeserialize(deserializableClass, serializedValue) {\n  const serializedValueBytes = _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexString(serializedValue).toUint8Array();\n  const deserializer = new _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Deserializer(serializedValueBytes);\n  return deserializableClass.deserialize(deserializer);\n}\n\n// src/serialization/jsonPayload.ts\n\n\n// src/serialization/error.ts\nvar UnexpectedValueError = class _UnexpectedValueError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"UnexpectedValueError\";\n    Object.setPrototypeOf(this, _UnexpectedValueError.prototype);\n  }\n};\n\n// src/serialization/jsonPayload.ts\nfunction isSerializedUint8Array(arg) {\n  return arg?.type === \"Uint8Array\" && typeof arg?.value === \"string\";\n}\nfunction serializeEntryFunctionArg(arg) {\n  if (arg instanceof Uint8Array) {\n    return {\n      type: \"Uint8Array\",\n      value: _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexInput(arg).toString()\n    };\n  }\n  if (Array.isArray(arg)) {\n    return arg.map(serializeEntryFunctionArg);\n  }\n  return arg;\n}\nfunction deserializeEntryFunctionArg(arg) {\n  if (isSerializedUint8Array(arg)) {\n    return _aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.Hex.fromHexInput(arg.value).toUint8Array();\n  }\n  if (Array.isArray(arg)) {\n    return arg.map(deserializeEntryFunctionArg);\n  }\n  return arg;\n}\nfunction serializeEntryFunctionPayload(payload) {\n  const normalizedArgs = payload.arguments.map(serializeEntryFunctionArg);\n  return {\n    ...payload,\n    arguments: normalizedArgs,\n    type: \"entry_function_payload\"\n  };\n}\nfunction deserializeEntryFunctionPayload(payload) {\n  const deserializedArgs = payload.arguments.map(deserializeEntryFunctionArg);\n  return {\n    ...payload,\n    arguments: deserializedArgs,\n    type: \"entry_function_payload\"\n  };\n}\nfunction serializeJsonTransactionPayload(payload) {\n  if (payload.type === \"entry_function_payload\" || payload.type === void 0) {\n    return serializeEntryFunctionPayload(payload);\n  }\n  if (payload.type === \"multisig_payload\") {\n    const innerPayload = payload.transaction_payload !== void 0 ? serializeEntryFunctionPayload(payload.transaction_payload) : void 0;\n    return { ...payload, transaction_payload: innerPayload };\n  }\n  throw new UnexpectedValueError();\n}\nfunction deserializeJsonTransactionPayload(payload) {\n  if (payload.type === \"entry_function_payload\" || payload.type === void 0) {\n    return deserializeEntryFunctionPayload(payload);\n  }\n  if (payload.type === \"multisig_payload\") {\n    const innerPayload = payload.transaction_payload !== void 0 ? deserializeEntryFunctionPayload(payload.transaction_payload) : void 0;\n    return { ...payload, transaction_payload: innerPayload };\n  }\n  throw new UnexpectedValueError();\n}\n\n// src/serialization/rawTxn.ts\n\nfunction serializeRawTransaction(rawTxn) {\n  const value = bcsSerialize(rawTxn);\n  if (\"fee_payer_address\" in rawTxn) {\n    return { type: \"fee_payer_raw_txn\", value };\n  }\n  if (\"secondary_signer_addresses\" in rawTxn) {\n    return { type: \"multi_agent_raw_txn\", value };\n  }\n  if (\"chain_id\" in rawTxn) {\n    return { type: \"raw_txn\", value };\n  }\n  throw new UnexpectedValueError(\"Invalid raw transaction type\");\n}\nfunction deserializeRawTransaction(serialized) {\n  switch (serialized.type) {\n    case \"raw_txn\":\n      return bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.RawTransaction, serialized.value);\n    case \"fee_payer_raw_txn\":\n      return bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.RawTransactionWithData, serialized.value);\n    case \"multi_agent_raw_txn\":\n      return bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.RawTransactionWithData, serialized.value);\n    default:\n      throw new UnexpectedValueError(\"Invalid raw transaction type\");\n  }\n}\n\n// src/serialization/signAndSubmitTransactionRequestArgs.ts\n\nfunction serializeSignAndSubmitTransactionRequestArgs(args) {\n  if (\"payload\" in args) {\n    const serializedPayload = isBcsSerializable(args.payload) ? bcsSerialize(args.payload) : serializeJsonTransactionPayload(args.payload);\n    return { options: args.options, payload: serializedPayload };\n  }\n  if (\"feePayerAuthenticator\" in args) {\n    return {\n      feePayerAuthenticator: bcsSerialize(args.feePayerAuthenticator),\n      rawTxn: serializeRawTransaction(args.rawTxn)\n    };\n  }\n  if (\"rawTxn\" in args) {\n    return { rawTxn: serializeRawTransaction(args.rawTxn) };\n  }\n  throw new UnexpectedValueError();\n}\nfunction deserializeSignAndSubmitTransactionRequestArgs(args) {\n  if (\"payload\" in args) {\n    const payload = typeof args.payload === \"string\" ? bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionPayload, args.payload) : deserializeJsonTransactionPayload(args.payload);\n    return { options: args.options, payload };\n  }\n  if (\"feePayerAuthenticator\" in args) {\n    const deserializedRawTxn = deserializeRawTransaction(args.rawTxn);\n    const feePayerAuthenticator = bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAuthenticator, args.feePayerAuthenticator);\n    return { feePayerAuthenticator, rawTxn: deserializedRawTxn };\n  }\n  if (\"rawTxn\" in args) {\n    const deserializedRawTxn = deserializeRawTransaction(args.rawTxn);\n    return { rawTxn: deserializedRawTxn };\n  }\n  throw new UnexpectedValueError();\n}\n\n// src/serialization/signTransactionRequestArgs.ts\n\nfunction serializeSignTransactionRequestArgs(args) {\n  if (\"payload\" in args) {\n    const serializedPayload = isBcsSerializable(args.payload) ? bcsSerialize(args.payload) : serializeJsonTransactionPayload(args.payload);\n    return { options: args.options, payload: serializedPayload };\n  }\n  if (\"rawTxn\" in args) {\n    const serializedRawTxn = serializeRawTransaction(args.rawTxn);\n    return { rawTxn: serializedRawTxn };\n  }\n  throw new UnexpectedValueError();\n}\nfunction deserializeSignTransactionRequestArgs(args) {\n  if (\"payload\" in args) {\n    const payload = typeof args.payload === \"string\" ? bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionPayload, args.payload) : deserializeJsonTransactionPayload(args.payload);\n    return { options: args.options, payload };\n  }\n  if (\"rawTxn\" in args) {\n    const deserializedRawTxn = deserializeRawTransaction(args.rawTxn);\n    return { rawTxn: deserializedRawTxn };\n  }\n  throw new UnexpectedValueError();\n}\n\n// src/serialization/signTransactionResponseArgs.ts\n\nfunction serializeSignTransactionResponseArgs(args) {\n  const accountAuthenticator = bcsSerialize(args.accountAuthenticator);\n  if (\"rawTxn\" in args) {\n    const rawTxn = bcsSerialize(args.rawTxn);\n    return { accountAuthenticator, rawTxn };\n  }\n  return { accountAuthenticator };\n}\nfunction deserializeSignTransactionResponseArgs(args) {\n  const accountAuthenticator = bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.AccountAuthenticator, args.accountAuthenticator);\n  if (\"rawTxn\" in args) {\n    const rawTxn = bcsDeserialize(_aptos_labs_ts_sdk__WEBPACK_IMPORTED_MODULE_0__.RawTransaction, args.rawTxn);\n    return { accountAuthenticator, rawTxn };\n  }\n  return { accountAuthenticator };\n}\n\n// src/utils/makeFullMessage.ts\nvar prefix = \"APTOS\";\nfunction makeFullMessage(params, flags) {\n  let fullMessage = prefix;\n  if (flags.address) {\n    fullMessage += `\naddress: ${params.address}`;\n  }\n  if (flags.application) {\n    fullMessage += `\napplication: ${params.application}`;\n  }\n  if (flags.chainId) {\n    fullMessage += `\nchainId: ${params.chainId}`;\n  }\n  fullMessage += `\nmessage: ${params.message}`;\n  fullMessage += `\nnonce: ${params.nonce}`;\n  return {\n    fullMessage,\n    prefix\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGlkZW50aXR5LWNvbm5lY3Qvd2FsbGV0LWFwaS9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDdUQ7QUFDM0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0NBQUc7QUFDbEMsU0FBUyxtREFBRztBQUNaO0FBQ0E7QUFDQSwrQkFBK0IsbURBQUc7QUFDbEMsMkJBQTJCLDREQUFZO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDaUQ7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbURBQUk7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBSTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFJNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOERBQWM7QUFDMUM7QUFDQSw0QkFBNEIsc0VBQXNCO0FBQ2xEO0FBQ0EsNEJBQTRCLHNFQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM4RTtBQUM5RTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGtFQUFrQjtBQUN4RixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9FQUFvQjtBQUNyRSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUMrRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0Usa0VBQW1CO0FBQ3pGLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ3NIO0FBQ3RIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSw4Q0FBOEMsb0VBQXFCO0FBQ25FO0FBQ0Esa0NBQWtDLDhEQUFlO0FBQ2pELGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQSxTQUFTLGFBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdCRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGFwdG9zLWxhYnMvd2FsbGV0LWFkYXB0ZXItbmV4dGpzLWV4YW1wbGUvLi9ub2RlX21vZHVsZXMvQGlkZW50aXR5LWNvbm5lY3Qvd2FsbGV0LWFwaS9kaXN0L2luZGV4Lm1qcz8xYzNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9zZXJpYWxpemF0aW9uL2Jjc1NlcmlhbGl6YXRpb24udHNcbmltcG9ydCB7IERlc2VyaWFsaXplciwgSGV4IH0gZnJvbSBcIkBhcHRvcy1sYWJzL3RzLXNka1wiO1xuaW1wb3J0IHsgQkNTIH0gZnJvbSBcImFwdG9zXCI7XG5mdW5jdGlvbiBpc0Jjc1NlcmlhbGl6YWJsZVYxKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZT8uc2VyaWFsaXplICE9PSB2b2lkIDA7XG59XG5mdW5jdGlvbiBpc0Jjc1NlcmlhbGl6YWJsZVYyKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZT8uc2VyaWFsaXplICE9PSB2b2lkIDAgJiYgdmFsdWU/LmJjc1RvQnl0ZXMgIT09IHZvaWQgMCAmJiB2YWx1ZT8uYmNzVG9IZXggIT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzQmNzU2VyaWFsaXphYmxlKHZhbHVlKSB7XG4gIHJldHVybiBpc0Jjc1NlcmlhbGl6YWJsZVYxKHZhbHVlKSB8fCBpc0Jjc1NlcmlhbGl6YWJsZVYyKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGJjc1NlcmlhbGl6ZShzZXJpYWxpemFibGUpIHtcbiAgaWYgKGlzQmNzU2VyaWFsaXphYmxlVjIoc2VyaWFsaXphYmxlKSkge1xuICAgIHJldHVybiBzZXJpYWxpemFibGUuYmNzVG9IZXgoKS50b1N0cmluZygpO1xuICB9XG4gIGNvbnN0IHNlcmlhbGl6ZWRWYWx1ZUJ5dGVzID0gQkNTLmJjc1RvQnl0ZXMoc2VyaWFsaXphYmxlKTtcbiAgcmV0dXJuIEhleC5mcm9tSGV4SW5wdXQoc2VyaWFsaXplZFZhbHVlQnl0ZXMpLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiBiY3NEZXNlcmlhbGl6ZShkZXNlcmlhbGl6YWJsZUNsYXNzLCBzZXJpYWxpemVkVmFsdWUpIHtcbiAgY29uc3Qgc2VyaWFsaXplZFZhbHVlQnl0ZXMgPSBIZXguZnJvbUhleFN0cmluZyhzZXJpYWxpemVkVmFsdWUpLnRvVWludDhBcnJheSgpO1xuICBjb25zdCBkZXNlcmlhbGl6ZXIgPSBuZXcgRGVzZXJpYWxpemVyKHNlcmlhbGl6ZWRWYWx1ZUJ5dGVzKTtcbiAgcmV0dXJuIGRlc2VyaWFsaXphYmxlQ2xhc3MuZGVzZXJpYWxpemUoZGVzZXJpYWxpemVyKTtcbn1cblxuLy8gc3JjL3NlcmlhbGl6YXRpb24vanNvblBheWxvYWQudHNcbmltcG9ydCB7IEhleCBhcyBIZXgyIH0gZnJvbSBcIkBhcHRvcy1sYWJzL3RzLXNka1wiO1xuXG4vLyBzcmMvc2VyaWFsaXphdGlvbi9lcnJvci50c1xudmFyIFVuZXhwZWN0ZWRWYWx1ZUVycm9yID0gY2xhc3MgX1VuZXhwZWN0ZWRWYWx1ZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJVbmV4cGVjdGVkVmFsdWVFcnJvclwiO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBfVW5leHBlY3RlZFZhbHVlRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufTtcblxuLy8gc3JjL3NlcmlhbGl6YXRpb24vanNvblBheWxvYWQudHNcbmZ1bmN0aW9uIGlzU2VyaWFsaXplZFVpbnQ4QXJyYXkoYXJnKSB7XG4gIHJldHVybiBhcmc/LnR5cGUgPT09IFwiVWludDhBcnJheVwiICYmIHR5cGVvZiBhcmc/LnZhbHVlID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZyhhcmcpIHtcbiAgaWYgKGFyZyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJVaW50OEFycmF5XCIsXG4gICAgICB2YWx1ZTogSGV4Mi5mcm9tSGV4SW5wdXQoYXJnKS50b1N0cmluZygpXG4gICAgfTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgcmV0dXJuIGFyZy5tYXAoc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZyk7XG4gIH1cbiAgcmV0dXJuIGFyZztcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplRW50cnlGdW5jdGlvbkFyZyhhcmcpIHtcbiAgaWYgKGlzU2VyaWFsaXplZFVpbnQ4QXJyYXkoYXJnKSkge1xuICAgIHJldHVybiBIZXgyLmZyb21IZXhJbnB1dChhcmcudmFsdWUpLnRvVWludDhBcnJheSgpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICByZXR1cm4gYXJnLm1hcChkZXNlcmlhbGl6ZUVudHJ5RnVuY3Rpb25BcmcpO1xuICB9XG4gIHJldHVybiBhcmc7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVFbnRyeUZ1bmN0aW9uUGF5bG9hZChwYXlsb2FkKSB7XG4gIGNvbnN0IG5vcm1hbGl6ZWRBcmdzID0gcGF5bG9hZC5hcmd1bWVudHMubWFwKHNlcmlhbGl6ZUVudHJ5RnVuY3Rpb25BcmcpO1xuICByZXR1cm4ge1xuICAgIC4uLnBheWxvYWQsXG4gICAgYXJndW1lbnRzOiBub3JtYWxpemVkQXJncyxcbiAgICB0eXBlOiBcImVudHJ5X2Z1bmN0aW9uX3BheWxvYWRcIlxuICB9O1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVFbnRyeUZ1bmN0aW9uUGF5bG9hZChwYXlsb2FkKSB7XG4gIGNvbnN0IGRlc2VyaWFsaXplZEFyZ3MgPSBwYXlsb2FkLmFyZ3VtZW50cy5tYXAoZGVzZXJpYWxpemVFbnRyeUZ1bmN0aW9uQXJnKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5wYXlsb2FkLFxuICAgIGFyZ3VtZW50czogZGVzZXJpYWxpemVkQXJncyxcbiAgICB0eXBlOiBcImVudHJ5X2Z1bmN0aW9uX3BheWxvYWRcIlxuICB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplSnNvblRyYW5zYWN0aW9uUGF5bG9hZChwYXlsb2FkKSB7XG4gIGlmIChwYXlsb2FkLnR5cGUgPT09IFwiZW50cnlfZnVuY3Rpb25fcGF5bG9hZFwiIHx8IHBheWxvYWQudHlwZSA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZUVudHJ5RnVuY3Rpb25QYXlsb2FkKHBheWxvYWQpO1xuICB9XG4gIGlmIChwYXlsb2FkLnR5cGUgPT09IFwibXVsdGlzaWdfcGF5bG9hZFwiKSB7XG4gICAgY29uc3QgaW5uZXJQYXlsb2FkID0gcGF5bG9hZC50cmFuc2FjdGlvbl9wYXlsb2FkICE9PSB2b2lkIDAgPyBzZXJpYWxpemVFbnRyeUZ1bmN0aW9uUGF5bG9hZChwYXlsb2FkLnRyYW5zYWN0aW9uX3BheWxvYWQpIDogdm9pZCAwO1xuICAgIHJldHVybiB7IC4uLnBheWxvYWQsIHRyYW5zYWN0aW9uX3BheWxvYWQ6IGlubmVyUGF5bG9hZCB9O1xuICB9XG4gIHRocm93IG5ldyBVbmV4cGVjdGVkVmFsdWVFcnJvcigpO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVKc29uVHJhbnNhY3Rpb25QYXlsb2FkKHBheWxvYWQpIHtcbiAgaWYgKHBheWxvYWQudHlwZSA9PT0gXCJlbnRyeV9mdW5jdGlvbl9wYXlsb2FkXCIgfHwgcGF5bG9hZC50eXBlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gZGVzZXJpYWxpemVFbnRyeUZ1bmN0aW9uUGF5bG9hZChwYXlsb2FkKTtcbiAgfVxuICBpZiAocGF5bG9hZC50eXBlID09PSBcIm11bHRpc2lnX3BheWxvYWRcIikge1xuICAgIGNvbnN0IGlubmVyUGF5bG9hZCA9IHBheWxvYWQudHJhbnNhY3Rpb25fcGF5bG9hZCAhPT0gdm9pZCAwID8gZGVzZXJpYWxpemVFbnRyeUZ1bmN0aW9uUGF5bG9hZChwYXlsb2FkLnRyYW5zYWN0aW9uX3BheWxvYWQpIDogdm9pZCAwO1xuICAgIHJldHVybiB7IC4uLnBheWxvYWQsIHRyYW5zYWN0aW9uX3BheWxvYWQ6IGlubmVyUGF5bG9hZCB9O1xuICB9XG4gIHRocm93IG5ldyBVbmV4cGVjdGVkVmFsdWVFcnJvcigpO1xufVxuXG4vLyBzcmMvc2VyaWFsaXphdGlvbi9yYXdUeG4udHNcbmltcG9ydCB7XG4gIFJhd1RyYW5zYWN0aW9uLFxuICBSYXdUcmFuc2FjdGlvbldpdGhEYXRhXG59IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmZ1bmN0aW9uIHNlcmlhbGl6ZVJhd1RyYW5zYWN0aW9uKHJhd1R4bikge1xuICBjb25zdCB2YWx1ZSA9IGJjc1NlcmlhbGl6ZShyYXdUeG4pO1xuICBpZiAoXCJmZWVfcGF5ZXJfYWRkcmVzc1wiIGluIHJhd1R4bikge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZmVlX3BheWVyX3Jhd190eG5cIiwgdmFsdWUgfTtcbiAgfVxuICBpZiAoXCJzZWNvbmRhcnlfc2lnbmVyX2FkZHJlc3Nlc1wiIGluIHJhd1R4bikge1xuICAgIHJldHVybiB7IHR5cGU6IFwibXVsdGlfYWdlbnRfcmF3X3R4blwiLCB2YWx1ZSB9O1xuICB9XG4gIGlmIChcImNoYWluX2lkXCIgaW4gcmF3VHhuKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJyYXdfdHhuXCIsIHZhbHVlIH07XG4gIH1cbiAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRWYWx1ZUVycm9yKFwiSW52YWxpZCByYXcgdHJhbnNhY3Rpb24gdHlwZVwiKTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplUmF3VHJhbnNhY3Rpb24oc2VyaWFsaXplZCkge1xuICBzd2l0Y2ggKHNlcmlhbGl6ZWQudHlwZSkge1xuICAgIGNhc2UgXCJyYXdfdHhuXCI6XG4gICAgICByZXR1cm4gYmNzRGVzZXJpYWxpemUoUmF3VHJhbnNhY3Rpb24sIHNlcmlhbGl6ZWQudmFsdWUpO1xuICAgIGNhc2UgXCJmZWVfcGF5ZXJfcmF3X3R4blwiOlxuICAgICAgcmV0dXJuIGJjc0Rlc2VyaWFsaXplKFJhd1RyYW5zYWN0aW9uV2l0aERhdGEsIHNlcmlhbGl6ZWQudmFsdWUpO1xuICAgIGNhc2UgXCJtdWx0aV9hZ2VudF9yYXdfdHhuXCI6XG4gICAgICByZXR1cm4gYmNzRGVzZXJpYWxpemUoUmF3VHJhbnNhY3Rpb25XaXRoRGF0YSwgc2VyaWFsaXplZC52YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBVbmV4cGVjdGVkVmFsdWVFcnJvcihcIkludmFsaWQgcmF3IHRyYW5zYWN0aW9uIHR5cGVcIik7XG4gIH1cbn1cblxuLy8gc3JjL3NlcmlhbGl6YXRpb24vc2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdEFyZ3MudHNcbmltcG9ydCB7IEFjY291bnRBdXRoZW50aWNhdG9yLCBUcmFuc2FjdGlvblBheWxvYWQgfSBmcm9tIFwiQGFwdG9zLWxhYnMvdHMtc2RrXCI7XG5mdW5jdGlvbiBzZXJpYWxpemVTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0QXJncyhhcmdzKSB7XG4gIGlmIChcInBheWxvYWRcIiBpbiBhcmdzKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplZFBheWxvYWQgPSBpc0Jjc1NlcmlhbGl6YWJsZShhcmdzLnBheWxvYWQpID8gYmNzU2VyaWFsaXplKGFyZ3MucGF5bG9hZCkgOiBzZXJpYWxpemVKc29uVHJhbnNhY3Rpb25QYXlsb2FkKGFyZ3MucGF5bG9hZCk7XG4gICAgcmV0dXJuIHsgb3B0aW9uczogYXJncy5vcHRpb25zLCBwYXlsb2FkOiBzZXJpYWxpemVkUGF5bG9hZCB9O1xuICB9XG4gIGlmIChcImZlZVBheWVyQXV0aGVudGljYXRvclwiIGluIGFyZ3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmVlUGF5ZXJBdXRoZW50aWNhdG9yOiBiY3NTZXJpYWxpemUoYXJncy5mZWVQYXllckF1dGhlbnRpY2F0b3IpLFxuICAgICAgcmF3VHhuOiBzZXJpYWxpemVSYXdUcmFuc2FjdGlvbihhcmdzLnJhd1R4bilcbiAgICB9O1xuICB9XG4gIGlmIChcInJhd1R4blwiIGluIGFyZ3MpIHtcbiAgICByZXR1cm4geyByYXdUeG46IHNlcmlhbGl6ZVJhd1RyYW5zYWN0aW9uKGFyZ3MucmF3VHhuKSB9O1xuICB9XG4gIHRocm93IG5ldyBVbmV4cGVjdGVkVmFsdWVFcnJvcigpO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVTaWduQW5kU3VibWl0VHJhbnNhY3Rpb25SZXF1ZXN0QXJncyhhcmdzKSB7XG4gIGlmIChcInBheWxvYWRcIiBpbiBhcmdzKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHR5cGVvZiBhcmdzLnBheWxvYWQgPT09IFwic3RyaW5nXCIgPyBiY3NEZXNlcmlhbGl6ZShUcmFuc2FjdGlvblBheWxvYWQsIGFyZ3MucGF5bG9hZCkgOiBkZXNlcmlhbGl6ZUpzb25UcmFuc2FjdGlvblBheWxvYWQoYXJncy5wYXlsb2FkKTtcbiAgICByZXR1cm4geyBvcHRpb25zOiBhcmdzLm9wdGlvbnMsIHBheWxvYWQgfTtcbiAgfVxuICBpZiAoXCJmZWVQYXllckF1dGhlbnRpY2F0b3JcIiBpbiBhcmdzKSB7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkUmF3VHhuID0gZGVzZXJpYWxpemVSYXdUcmFuc2FjdGlvbihhcmdzLnJhd1R4bik7XG4gICAgY29uc3QgZmVlUGF5ZXJBdXRoZW50aWNhdG9yID0gYmNzRGVzZXJpYWxpemUoQWNjb3VudEF1dGhlbnRpY2F0b3IsIGFyZ3MuZmVlUGF5ZXJBdXRoZW50aWNhdG9yKTtcbiAgICByZXR1cm4geyBmZWVQYXllckF1dGhlbnRpY2F0b3IsIHJhd1R4bjogZGVzZXJpYWxpemVkUmF3VHhuIH07XG4gIH1cbiAgaWYgKFwicmF3VHhuXCIgaW4gYXJncykge1xuICAgIGNvbnN0IGRlc2VyaWFsaXplZFJhd1R4biA9IGRlc2VyaWFsaXplUmF3VHJhbnNhY3Rpb24oYXJncy5yYXdUeG4pO1xuICAgIHJldHVybiB7IHJhd1R4bjogZGVzZXJpYWxpemVkUmF3VHhuIH07XG4gIH1cbiAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRWYWx1ZUVycm9yKCk7XG59XG5cbi8vIHNyYy9zZXJpYWxpemF0aW9uL3NpZ25UcmFuc2FjdGlvblJlcXVlc3RBcmdzLnRzXG5pbXBvcnQgeyBUcmFuc2FjdGlvblBheWxvYWQgYXMgVHJhbnNhY3Rpb25QYXlsb2FkMiB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmZ1bmN0aW9uIHNlcmlhbGl6ZVNpZ25UcmFuc2FjdGlvblJlcXVlc3RBcmdzKGFyZ3MpIHtcbiAgaWYgKFwicGF5bG9hZFwiIGluIGFyZ3MpIHtcbiAgICBjb25zdCBzZXJpYWxpemVkUGF5bG9hZCA9IGlzQmNzU2VyaWFsaXphYmxlKGFyZ3MucGF5bG9hZCkgPyBiY3NTZXJpYWxpemUoYXJncy5wYXlsb2FkKSA6IHNlcmlhbGl6ZUpzb25UcmFuc2FjdGlvblBheWxvYWQoYXJncy5wYXlsb2FkKTtcbiAgICByZXR1cm4geyBvcHRpb25zOiBhcmdzLm9wdGlvbnMsIHBheWxvYWQ6IHNlcmlhbGl6ZWRQYXlsb2FkIH07XG4gIH1cbiAgaWYgKFwicmF3VHhuXCIgaW4gYXJncykge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWRSYXdUeG4gPSBzZXJpYWxpemVSYXdUcmFuc2FjdGlvbihhcmdzLnJhd1R4bik7XG4gICAgcmV0dXJuIHsgcmF3VHhuOiBzZXJpYWxpemVkUmF3VHhuIH07XG4gIH1cbiAgdGhyb3cgbmV3IFVuZXhwZWN0ZWRWYWx1ZUVycm9yKCk7XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVNpZ25UcmFuc2FjdGlvblJlcXVlc3RBcmdzKGFyZ3MpIHtcbiAgaWYgKFwicGF5bG9hZFwiIGluIGFyZ3MpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gdHlwZW9mIGFyZ3MucGF5bG9hZCA9PT0gXCJzdHJpbmdcIiA/IGJjc0Rlc2VyaWFsaXplKFRyYW5zYWN0aW9uUGF5bG9hZDIsIGFyZ3MucGF5bG9hZCkgOiBkZXNlcmlhbGl6ZUpzb25UcmFuc2FjdGlvblBheWxvYWQoYXJncy5wYXlsb2FkKTtcbiAgICByZXR1cm4geyBvcHRpb25zOiBhcmdzLm9wdGlvbnMsIHBheWxvYWQgfTtcbiAgfVxuICBpZiAoXCJyYXdUeG5cIiBpbiBhcmdzKSB7XG4gICAgY29uc3QgZGVzZXJpYWxpemVkUmF3VHhuID0gZGVzZXJpYWxpemVSYXdUcmFuc2FjdGlvbihhcmdzLnJhd1R4bik7XG4gICAgcmV0dXJuIHsgcmF3VHhuOiBkZXNlcmlhbGl6ZWRSYXdUeG4gfTtcbiAgfVxuICB0aHJvdyBuZXcgVW5leHBlY3RlZFZhbHVlRXJyb3IoKTtcbn1cblxuLy8gc3JjL3NlcmlhbGl6YXRpb24vc2lnblRyYW5zYWN0aW9uUmVzcG9uc2VBcmdzLnRzXG5pbXBvcnQgeyBBY2NvdW50QXV0aGVudGljYXRvciBhcyBBY2NvdW50QXV0aGVudGljYXRvcjIsIFJhd1RyYW5zYWN0aW9uIGFzIFJhd1RyYW5zYWN0aW9uMiB9IGZyb20gXCJAYXB0b3MtbGFicy90cy1zZGtcIjtcbmZ1bmN0aW9uIHNlcmlhbGl6ZVNpZ25UcmFuc2FjdGlvblJlc3BvbnNlQXJncyhhcmdzKSB7XG4gIGNvbnN0IGFjY291bnRBdXRoZW50aWNhdG9yID0gYmNzU2VyaWFsaXplKGFyZ3MuYWNjb3VudEF1dGhlbnRpY2F0b3IpO1xuICBpZiAoXCJyYXdUeG5cIiBpbiBhcmdzKSB7XG4gICAgY29uc3QgcmF3VHhuID0gYmNzU2VyaWFsaXplKGFyZ3MucmF3VHhuKTtcbiAgICByZXR1cm4geyBhY2NvdW50QXV0aGVudGljYXRvciwgcmF3VHhuIH07XG4gIH1cbiAgcmV0dXJuIHsgYWNjb3VudEF1dGhlbnRpY2F0b3IgfTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplU2lnblRyYW5zYWN0aW9uUmVzcG9uc2VBcmdzKGFyZ3MpIHtcbiAgY29uc3QgYWNjb3VudEF1dGhlbnRpY2F0b3IgPSBiY3NEZXNlcmlhbGl6ZShBY2NvdW50QXV0aGVudGljYXRvcjIsIGFyZ3MuYWNjb3VudEF1dGhlbnRpY2F0b3IpO1xuICBpZiAoXCJyYXdUeG5cIiBpbiBhcmdzKSB7XG4gICAgY29uc3QgcmF3VHhuID0gYmNzRGVzZXJpYWxpemUoUmF3VHJhbnNhY3Rpb24yLCBhcmdzLnJhd1R4bik7XG4gICAgcmV0dXJuIHsgYWNjb3VudEF1dGhlbnRpY2F0b3IsIHJhd1R4biB9O1xuICB9XG4gIHJldHVybiB7IGFjY291bnRBdXRoZW50aWNhdG9yIH07XG59XG5cbi8vIHNyYy91dGlscy9tYWtlRnVsbE1lc3NhZ2UudHNcbnZhciBwcmVmaXggPSBcIkFQVE9TXCI7XG5mdW5jdGlvbiBtYWtlRnVsbE1lc3NhZ2UocGFyYW1zLCBmbGFncykge1xuICBsZXQgZnVsbE1lc3NhZ2UgPSBwcmVmaXg7XG4gIGlmIChmbGFncy5hZGRyZXNzKSB7XG4gICAgZnVsbE1lc3NhZ2UgKz0gYFxuYWRkcmVzczogJHtwYXJhbXMuYWRkcmVzc31gO1xuICB9XG4gIGlmIChmbGFncy5hcHBsaWNhdGlvbikge1xuICAgIGZ1bGxNZXNzYWdlICs9IGBcbmFwcGxpY2F0aW9uOiAke3BhcmFtcy5hcHBsaWNhdGlvbn1gO1xuICB9XG4gIGlmIChmbGFncy5jaGFpbklkKSB7XG4gICAgZnVsbE1lc3NhZ2UgKz0gYFxuY2hhaW5JZDogJHtwYXJhbXMuY2hhaW5JZH1gO1xuICB9XG4gIGZ1bGxNZXNzYWdlICs9IGBcbm1lc3NhZ2U6ICR7cGFyYW1zLm1lc3NhZ2V9YDtcbiAgZnVsbE1lc3NhZ2UgKz0gYFxubm9uY2U6ICR7cGFyYW1zLm5vbmNlfWA7XG4gIHJldHVybiB7XG4gICAgZnVsbE1lc3NhZ2UsXG4gICAgcHJlZml4XG4gIH07XG59XG5leHBvcnQge1xuICBiY3NEZXNlcmlhbGl6ZSxcbiAgYmNzU2VyaWFsaXplLFxuICBkZXNlcmlhbGl6ZUpzb25UcmFuc2FjdGlvblBheWxvYWQsXG4gIGRlc2VyaWFsaXplUmF3VHJhbnNhY3Rpb24sXG4gIGRlc2VyaWFsaXplU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdEFyZ3MsXG4gIGRlc2VyaWFsaXplU2lnblRyYW5zYWN0aW9uUmVxdWVzdEFyZ3MsXG4gIGRlc2VyaWFsaXplU2lnblRyYW5zYWN0aW9uUmVzcG9uc2VBcmdzLFxuICBpc0Jjc1NlcmlhbGl6YWJsZSxcbiAgbWFrZUZ1bGxNZXNzYWdlLFxuICBzZXJpYWxpemVKc29uVHJhbnNhY3Rpb25QYXlsb2FkLFxuICBzZXJpYWxpemVSYXdUcmFuc2FjdGlvbixcbiAgc2VyaWFsaXplU2lnbkFuZFN1Ym1pdFRyYW5zYWN0aW9uUmVxdWVzdEFyZ3MsXG4gIHNlcmlhbGl6ZVNpZ25UcmFuc2FjdGlvblJlcXVlc3RBcmdzLFxuICBzZXJpYWxpemVTaWduVHJhbnNhY3Rpb25SZXNwb25zZUFyZ3Ncbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@identity-connect/wallet-api/dist/index.mjs\n");

/***/ })

};
;